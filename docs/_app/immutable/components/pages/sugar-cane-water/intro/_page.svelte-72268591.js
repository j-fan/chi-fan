import{o as ce,S as q,i as P,s as M,k as y,l as I,m as B,h as m,n as C,b as V,g as O,t as w,A as z,d as A,f as b,q as j,a as R,r as U,c as W,C as S,u as ee,M as se,U as ue,v as E,w as G,x as N,y as D,E as Ee,G as Ne,H as De,I as Ge,p as T,N as Me,L as x,O as ze,V as fe,W as qe,X as Pe,e as ne,B as re}from"../../../../chunks/index-eecdb0a3.js";import{b as te}from"../../../../chunks/paths-d2a11cad.js";import{B as Be}from"../../../../chunks/Button-9de61417.js";import{a as Te,b as je,f as Ue}from"../../../../chunks/index-9f715646.js";const Ce=(r,e,s)=>Math.min(Math.max(r,e),s),Oe=()=>{ce(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function de(r){let e,s;return e=new Be({props:{href:r[0].nextButton.href,$$slots:{default:[Ae]},$$scope:{ctx:r}}}),e.$on("click",r[1]),{c(){E(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){N(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.href=t[0].nextButton.href),n&129&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function Ae(r){let e=r[0].nextButton.text+"",s;return{c(){s=j(e)},l(t){s=U(t,e)},m(t,n){V(t,s,n)},p(t,n){n&1&&e!==(e=t[0].nextButton.text+"")&&ee(s,e)},d(t){t&&m(s)}}}function ge(r){let e,s,t=r[0].characterName+"",n,o,a,l=r[0].bodyText+"",i,f,c,g,h,p=r[0].nextButton&&de(r);return{c(){e=y("div"),s=y("h3"),n=j(t),o=R(),a=y("p"),i=j(l),f=R(),c=y("div"),p&&p.c(),this.h()},l(v){e=I(v,"DIV",{class:!0});var u=B(e);s=I(u,"H3",{class:!0});var d=B(s);n=U(d,t),d.forEach(m),o=W(u),a=I(u,"P",{});var k=B(a);i=U(k,l),k.forEach(m),f=W(u),c=I(u,"DIV",{class:!0});var _=B(c);p&&p.l(_),_.forEach(m),u.forEach(m),this.h()},h(){C(s,"class","character-name svelte-1oqaosq"),C(c,"class","button-wrapper svelte-1oqaosq"),C(e,"class","dialog svelte-1oqaosq")},m(v,u){V(v,e,u),S(e,s),S(s,n),S(e,o),S(e,a),S(a,i),S(e,f),S(e,c),p&&p.m(c,null),h=!0},p(v,u){(!h||u&1)&&t!==(t=v[0].characterName+"")&&ee(n,t),(!h||u&1)&&l!==(l=v[0].bodyText+"")&&ee(i,l),v[0].nextButton?p?(p.p(v,u),u&1&&b(p,1)):(p=de(v),p.c(),b(p,1),p.m(c,null)):p&&(O(),w(p,1,1,()=>{p=null}),A())},i(v){h||(b(p),g||se(()=>{g=ue(e,Te,{y:20,duration:400}),g.start()}),h=!0)},o(v){w(p),h=!1},d(v){v&&m(e),p&&p.d()}}}function Fe(r){let e,s=r[0],t,n=ge(r);return{c(){e=y("div"),n.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=B(e);n.l(a),a.forEach(m),this.h()},h(){C(e,"class","float-bottom-wrapper svelte-1oqaosq")},m(o,a){V(o,e,a),n.m(e,null),t=!0},p(o,[a]){a&1&&M(s,s=o[0])?(O(),w(n,1,1,z),A(),n=ge(o),n.c(),b(n,1),n.m(e,null)):n.p(o,a)},i(o){t||(b(n),t=!0)},o(o){w(n),t=!1},d(o){o&&m(e),n.d(o)}}}function Re(r,e,s){let t,{dialogs:n}=e,{isValid:o}=e,{errorStep:a}=e,{successStep:l}=e,i=0;const f=()=>{var c,g,h;(c=t.nextButton)!=null&&c.href||((h=(g=t.nextButton)==null?void 0:g.action)==null||h.call(g),i<n.length-1?(s(6,i=i+1),s(0,t=n[i])):i===n.length-1&&s(6,i=i+1))};return r.$$set=c=>{"dialogs"in c&&s(2,n=c.dialogs),"isValid"in c&&s(3,o=c.isValid),"errorStep"in c&&s(4,a=c.errorStep),"successStep"in c&&s(5,l=c.successStep)},r.$$.update=()=>{if(r.$$.dirty&4&&n.length===0)throw new Error("You must provide at least 1 dialog option");r.$$.dirty&4&&s(0,t=n[0]),r.$$.dirty&124&&(i===n.length-1&&o&&s(0,t=l),i===n.length&&s(0,t=o?l:a))},[t,f,n,o,a,l,i]}class We extends q{constructor(e){super(),P(this,e,Re,Fe,M,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function Xe(r){let e,s,t,n,o;const a=r[5].default,l=Ee(a,r,r[4],null);return n=new We({props:{dialogs:r[0],isValid:r[1],errorStep:r[2],successStep:r[3]}}),{c(){e=y("div"),s=y("div"),l&&l.c(),t=R(),E(n.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0});var f=B(e);s=I(f,"DIV",{class:!0});var c=B(s);l&&l.l(c),c.forEach(m),t=W(f),G(n.$$.fragment,f),f.forEach(m),this.h()},h(){C(s,"class","slide-content svelte-1n2hnli"),C(e,"class","wrapper svelte-1n2hnli")},m(i,f){V(i,e,f),S(e,s),l&&l.m(s,null),S(e,t),N(n,e,null),o=!0},p(i,[f]){l&&l.p&&(!o||f&16)&&Ne(l,a,i,i[4],o?Ge(a,i[4],f,null):De(i[4]),null);const c={};f&1&&(c.dialogs=i[0]),f&2&&(c.isValid=i[1]),f&4&&(c.errorStep=i[2]),f&8&&(c.successStep=i[3]),n.$set(c)},i(i){o||(b(l,i),b(n.$$.fragment,i),o=!0)},o(i){w(l,i),w(n.$$.fragment,i),o=!1},d(i){i&&m(e),l&&l.d(i),D(n)}}}function He(r,e,s){let{$$slots:t={},$$scope:n}=e,{dialogs:o}=e,{isValid:a}=e,{errorStep:l}=e,{successStep:i}=e;return r.$$set=f=>{"dialogs"in f&&s(0,o=f.dialogs),"isValid"in f&&s(1,a=f.isValid),"errorStep"in f&&s(2,l=f.errorStep),"successStep"in f&&s(3,i=f.successStep),"$$scope"in f&&s(4,n=f.$$scope)},[o,a,l,i,n,t]}class Ve extends q{constructor(e){super(),P(this,e,He,Xe,M,{dialogs:0,isValid:1,errorStep:2,successStep:3})}}function Ke(r){let e,s,t,n,o,a,l,i,f,c;var g=r[0].targetComponent;function h(u){return{props:{progress:u[8]/u[0].targetStrokes}}}g&&(t=new g(h(r)));var p=r[0].dragComponent;function v(u){return{props:{isIntersecting:u[7]}}}return p&&(a=new p(v(r))),{c(){e=y("div"),s=y("div"),t&&E(t.$$.fragment),n=R(),o=y("div"),a&&E(a.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var d=B(e);s=I(d,"DIV",{class:!0});var k=B(s);t&&G(t.$$.fragment,k),n=W(k),o=I(k,"DIV",{class:!0,style:!0});var _=B(o);a&&G(a.$$.fragment,_),_.forEach(m),k.forEach(m),d.forEach(m),this.h()},h(){C(o,"class","follow-mouse svelte-ucousf"),T(o,"left",r[1]+"px"),T(o,"top",r[2]+"px"),se(()=>r[11].call(o)),C(s,"class","target svelte-ucousf"),C(e,"class","centered svelte-ucousf")},m(u,d){V(u,e,d),S(e,s),t&&N(t,s,null),S(s,n),S(s,o),a&&N(a,o,null),l=Me(o,r[11].bind(o)),r[12](o),r[13](s),i=!0,f||(c=[x(e,"click",r[14]),x(e,"mousemove",r[9]),x(e,"touchmove",r[10])],f=!0)},p(u,d){const k={};if(d&257&&(k.progress=u[8]/u[0].targetStrokes),g!==(g=u[0].targetComponent)){if(t){O();const $=t;w($.$$.fragment,1,0,()=>{D($,1)}),A()}g?(t=new g(h(u)),E(t.$$.fragment),b(t.$$.fragment,1),N(t,s,n)):t=null}else g&&t.$set(k);const _={};if(d&128&&(_.isIntersecting=u[7]),p!==(p=u[0].dragComponent)){if(a){O();const $=a;w($.$$.fragment,1,0,()=>{D($,1)}),A()}p?(a=new p(v(u)),E(a.$$.fragment),b(a.$$.fragment,1),N(a,o,null)):a=null}else p&&a.$set(_);(!i||d&2)&&T(o,"left",u[1]+"px"),(!i||d&4)&&T(o,"top",u[2]+"px")},i(u){i||(t&&b(t.$$.fragment,u),a&&b(a.$$.fragment,u),i=!0)},o(u){t&&w(t.$$.fragment,u),a&&w(a.$$.fragment,u),i=!1},d(u){u&&m(e),t&&D(t),a&&D(a),l(),r[12](null),r[13](null),f=!1,ze(c)}}}function Ye(r){let e,s;return e=new Ve({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[8]===r[0].targetStrokes,$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){N(e,t,n),s=!0},p(t,[n]){const o={};n&1&&(o.dialogs=t[0].dialogs),n&1&&(o.errorStep=t[0].errorStep),n&1&&(o.successStep=t[0].successStep),n&257&&(o.isValid=t[8]===t[0].targetStrokes),n&33279&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function Le(r,e,s){let{props:t}=e,n=-200,o=-200,a=0,l=0,i,f,c=!1,g=0;const h=_=>{const $=i.getBoundingClientRect();s(1,n=_.clientX-$.x-a/2),s(2,o=_.clientY-$.y-l/2)},p=_=>{const $=i.getBoundingClientRect();s(1,n=_.changedTouches[0].clientX-$.x-a/2),s(2,o=_.changedTouches[0].clientY-$.y-l/2)};ce(()=>{const _=X=>{X.forEach(H=>{s(7,c=H.isIntersecting)})},$=new IntersectionObserver(_,{root:i,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return $.observe(f),()=>{$.disconnect()}}),Oe();function v(){a=this.clientWidth,l=this.clientHeight,s(3,a),s(4,l)}function u(_){fe[_?"unshift":"push"](()=>{f=_,s(6,f)})}function d(_){fe[_?"unshift":"push"](()=>{i=_,s(5,i)})}const k=()=>{s(8,g=Ce(g+1,0,t.targetStrokes))};return r.$$set=_=>{"props"in _&&s(0,t=_.props)},[t,n,o,a,l,i,f,c,g,h,p,v,u,d,k]}class Je extends q{constructor(e){super(),P(this,e,Le,Ye,M,{props:0})}}const Qe=.5*(Math.sqrt(3)-1),Z=(3-Math.sqrt(3))/6,pe=r=>Math.floor(r)|0,he=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function Ze(r=Math.random){const e=xe(r),s=new Float64Array(e).map(n=>he[n%12*2]),t=new Float64Array(e).map(n=>he[n%12*2+1]);return function(o,a){let l=0,i=0,f=0;const c=(o+a)*Qe,g=pe(o+c),h=pe(a+c),p=(g+h)*Z,v=g-p,u=h-p,d=o-v,k=a-u;let _,$;d>k?(_=1,$=0):(_=0,$=1);const X=d-_+Z,H=k-$+Z,oe=d-1+2*Z,ae=k-1+2*Z,ie=g&255,le=h&255;let K=.5-d*d-k*k;if(K>=0){const F=ie+e[le],J=s[F],Q=t[F];K*=K,l=K*K*(J*d+Q*k)}let Y=.5-X*X-H*H;if(Y>=0){const F=ie+_+e[le+$],J=s[F],Q=t[F];Y*=Y,i=Y*Y*(J*X+Q*H)}let L=.5-oe*oe-ae*ae;if(L>=0){const F=ie+1+e[le+1],J=s[F],Q=t[F];L*=L,f=L*L*(J*oe+Q*ae)}return 70*(l+i+f)}}function xe(r){const s=new Uint8Array(512);for(let t=0;t<512/2;t++)s[t]=t;for(let t=0;t<512/2-1;t++){const n=t+~~(r()*(256-t)),o=s[t];s[t]=s[n],s[n]=o}for(let t=256;t<512;t++)s[t]=s[t-256];return s}const me=(r=0,e=100)=>{const s=e-r;let t=Math.random();return t=t*s,t=t+r,t},_e=(r=0,e=100,s=0,t=0,n=0)=>{const o=e-r;let l=(Ze(()=>n)(s,t)+1)/2;return l=Math.floor(l*o),l=l+r,l},et=()=>Math.random()>.5;function ke(r,e,s){const t=r.slice();return t[4]=e[s],t[6]=s,t}function be(r,e){let s,t,n,o,a,l;var i=e[0].itemComponent;function f(g){return{props:{picked:g[1].has(g[6])}}}i&&(t=new i(f(e)));function c(){return e[3](e[6])}return{key:r,first:null,c(){s=y("div"),t&&E(t.$$.fragment),n=R(),this.h()},l(g){s=I(g,"DIV",{class:!0,style:!0});var h=B(s);t&&G(t.$$.fragment,h),n=W(h),h.forEach(m),this.h()},h(){C(s,"class","item-wrapper svelte-22hzw9"),T(s,"left",_e(-20,100,e[6],0,we)+"%"),T(s,"bottom","12%"),this.first=s},m(g,h){V(g,s,h),t&&N(t,s,null),S(s,n),o=!0,a||(l=x(s,"click",c),a=!0)},p(g,h){e=g;const p={};if(h&3&&(p.picked=e[1].has(e[6])),i!==(i=e[0].itemComponent)){if(t){O();const v=t;w(v.$$.fragment,1,0,()=>{D(v,1)}),A()}i?(t=new i(f(e)),E(t.$$.fragment),b(t.$$.fragment,1),N(t,s,n)):t=null}else i&&t.$set(p);(!o||h&1)&&T(s,"left",_e(-20,100,e[6],0,we)+"%")},i(g){o||(t&&b(t.$$.fragment,g),o=!0)},o(g){t&&w(t.$$.fragment,g),o=!1},d(g){g&&m(s),t&&D(t),a=!1,l()}}}function tt(r){let e,s,t,n=r[1].size+"",o,a,l=r[0].targetCount+"",i,f,c=[],g=new Map,h,p=Array(r[0].totalItems);const v=u=>u[6];for(let u=0;u<p.length;u+=1){let d=ke(r,p,u),k=v(d);g.set(k,c[u]=be(k,d))}return{c(){e=y("div"),s=y("p"),t=j("Progress: "),o=j(n),a=j(" / "),i=j(l),f=R();for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0,style:!0});var d=B(e);s=I(d,"P",{});var k=B(s);t=U(k,"Progress: "),o=U(k,n),a=U(k," / "),i=U(k,l),k.forEach(m),f=W(d);for(let _=0;_<c.length;_+=1)c[_].l(d);d.forEach(m),this.h()},h(){C(e,"class","items-container svelte-22hzw9"),T(e,"background-image","url("+r[0].bgImage+")")},m(u,d){V(u,e,d),S(e,s),S(s,t),S(s,o),S(s,a),S(s,i),S(e,f);for(let k=0;k<c.length;k+=1)c[k].m(e,null);h=!0},p(u,d){(!h||d&2)&&n!==(n=u[1].size+"")&&ee(o,n),(!h||d&1)&&l!==(l=u[0].targetCount+"")&&ee(i,l),d&7&&(p=Array(u[0].totalItems),O(),c=qe(c,d,v,1,u,p,g,e,Pe,be,null,ke),A()),(!h||d&1)&&T(e,"background-image","url("+u[0].bgImage+")")},i(u){if(!h){for(let d=0;d<p.length;d+=1)b(c[d]);h=!0}},o(u){for(let d=0;d<c.length;d+=1)w(c[d]);h=!1},d(u){u&&m(e);for(let d=0;d<c.length;d+=1)c[d].d()}}}function st(r){let e,s;return e=new Ve({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[1].size>=r[0].targetCount,$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){N(e,t,n),s=!0},p(t,[n]){const o={};n&1&&(o.dialogs=t[0].dialogs),n&1&&(o.errorStep=t[0].errorStep),n&1&&(o.successStep=t[0].successStep),n&3&&(o.isValid=t[1].size>=t[0].targetCount),n&131&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}const we=.34987;function nt(r,e,s){let{props:t}=e,n=new Set;const o=l=>{n.has(l)?n.delete(l):n.add(l),s(1,n)},a=l=>{o(l)};return r.$$set=l=>{"props"in l&&s(0,t=l.props)},r.$$.update=()=>{if(r.$$.dirty&1&&t.totalItems<t.targetCount)throw new Error("The target count must be less than the total items")},[t,n,o,a]}class rt extends q{constructor(e){super(),P(this,e,nt,st,M,{props:0})}}function ot(r){let e,s;return{c(){e=y("div"),s=j("Unknown slide type")},l(t){e=I(t,"DIV",{});var n=B(e);s=U(n,"Unknown slide type"),n.forEach(m)},m(t,n){V(t,e,n),S(e,s)},p:z,i:z,o:z,d(t){t&&m(e)}}}function at(r){let e,s;return e=new Je({props:{props:r[0]}}),{c(){E(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){N(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.props=t[0]),e.$set(o)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function it(r){let e,s;return e=new rt({props:{props:r[0]}}),{c(){E(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){N(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.props=t[0]),e.$set(o)},i(t){s||(b(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function lt(r){let e,s,t,n;const o=[it,at,ot],a=[];function l(i,f){return i[0].type==="pick-items"?0:i[0].type==="click-times"?1:2}return e=l(r),s=a[e]=o[e](r),{c(){s.c(),t=ne()},l(i){s.l(i),t=ne()},m(i,f){a[e].m(i,f),V(i,t,f),n=!0},p(i,[f]){let c=e;e=l(i),e===c?a[e].p(i,f):(O(),w(a[c],1,1,()=>{a[c]=null}),A(),s=a[e],s?s.p(i,f):(s=a[e]=o[e](i),s.c()),b(s,1),s.m(t.parentNode,t))},i(i){n||(b(s),n=!0)},o(i){w(s),n=!1},d(i){a[e].d(i),i&&m(t)}}}function ct(r,e,s){let{props:t}=e;return r.$$set=n=>{"props"in n&&s(0,t=n.props)},[t]}class ut extends q{constructor(e){super(),P(this,e,ct,lt,M,{props:0})}}function ve(r){let e,s,t,n;return s=new Be({props:{href:r[0],$$slots:{default:[ft]},$$scope:{ctx:r}}}),{c(){e=y("div"),E(s.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var a=B(e);G(s.$$.fragment,a),a.forEach(m),this.h()},h(){C(e,"class","skip-button svelte-spxpjq")},m(o,a){V(o,e,a),N(s,e,null),n=!0},p(o,a){r=o;const l={};a&1&&(l.href=r[0]),a&128&&(l.$$scope={dirty:a,ctx:r}),s.$set(l)},i(o){n||(b(s.$$.fragment,o),t||se(()=>{t=ue(e,Te,{y:-20,easing:je,delay:2e3,duration:600}),t.start()}),n=!0)},o(o){w(s.$$.fragment,o),n=!1},d(o){o&&m(e),D(s)}}}function ft(r){let e;return{c(){e=j("Skip")},l(s){e=U(s,"Skip")},m(s,t){V(s,e,t)},d(s){s&&m(e)}}}function Se(r){let e,s,t,n,o;s=new ut({props:{props:{...r[1],successStep:r[3]}}});let a=r[2]&&ve(r);return{c(){e=y("div"),E(s.$$.fragment),t=R(),a&&a.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var i=B(e);G(s.$$.fragment,i),t=W(i),a&&a.l(i),i.forEach(m),this.h()},h(){C(e,"class","wrapper svelte-spxpjq")},m(l,i){V(l,e,i),N(s,e,null),S(e,t),a&&a.m(e,null),o=!0},p(l,i){const f={};i&10&&(f.props={...l[1],successStep:l[3]}),s.$set(f),l[2]?a?(a.p(l,i),i&4&&b(a,1)):(a=ve(l),a.c(),b(a,1),a.m(e,null)):a&&(O(),w(a,1,1,()=>{a=null}),A())},i(l){o||(b(s.$$.fragment,l),b(a),n||se(()=>{n=ue(e,Ue,{duration:500}),n.start()}),o=!0)},o(l){w(s.$$.fragment,l),w(a),o=!1},d(l){l&&m(e),D(s),a&&a.d()}}}function dt(r){let e=r[1],s,t,n=Se(r);return{c(){n.c(),s=ne()},l(o){n.l(o),s=ne()},m(o,a){n.m(o,a),V(o,s,a),t=!0},p(o,[a]){a&2&&M(e,e=o[1])?(O(),w(n,1,1,z),A(),n=Se(o),n.c(),b(n,1),n.m(s.parentNode,s)):n.p(o,a)},i(o){t||(b(n),t=!0)},o(o){w(n),t=!1},d(o){o&&m(s),n.d(o)}}}function gt(r,e,s){let t,n,{slides:o}=e,{skipButtonUrl:a}=e,l=!1,i=0;const f=()=>{i<o.length-1&&s(5,i=i+1)};return ce(()=>{s(2,l=!0)}),r.$$set=c=>{"slides"in c&&s(4,o=c.slides),"skipButtonUrl"in c&&s(0,a=c.skipButtonUrl)},r.$$.update=()=>{if(r.$$.dirty&16&&o.length===0)throw new Error("You must provide at least 1 slide option");if(r.$$.dirty&48&&s(1,t=o[i]),r.$$.dirty&2&&s(3,n=t.successStep),r.$$.dirty&2){const c=t.successStep.nextButton;s(3,n={...t.successStep,nextButton:{...t.successStep.nextButton,text:(c==null?void 0:c.text)||"Ok",action:()=>{var g;(g=c==null?void 0:c.action)==null||g.call(c),f()}}})}},[a,t,l,n,o,i]}class pt extends q{constructor(e){super(),P(this,e,gt,dt,M,{slides:4,skipButtonUrl:0})}}function ht(r){let e;return{c(){e=y("div"),this.h()},l(s){e=I(s,"DIV",{class:!0,style:!0}),B(e).forEach(m),this.h()},h(){C(e,"class","wrapper svelte-pxcvxj"),T(e,"background-image","url("+r[1]+")"),re(e,"isIntersecting",r[0])},m(s,t){V(s,e,t)},p(s,[t]){t&1&&re(e,"isIntersecting",s[0])},i:z,o:z,d(s){s&&m(e)}}}function mt(r,e,s){let{isIntersecting:t=!1}=e;const n=`${te}/img/sugar-cane-water/cleaver2.png`;return r.$$set=o=>{"isIntersecting"in o&&s(0,t=o.isIntersecting)},[t,n]}class $e extends q{constructor(e){super(),P(this,e,mt,ht,M,{isIntersecting:0})}}function _t(r){let e;return{c(){e=y("div"),this.h()},l(s){e=I(s,"DIV",{class:!0,style:!0}),B(e).forEach(m),this.h()},h(){C(e,"class","wrapper svelte-133a6a0"),T(e,"filter","brightness("+r[0]+")"),T(e,"background-image","url("+r[1]+")")},m(s,t){V(s,e,t)},p(s,[t]){t&1&&T(e,"filter","brightness("+s[0]+")")},i:z,o:z,d(s){s&&m(e)}}}function kt(r,e,s){let t,{progress:n=0}=e;const o=`${te}/img/sugar-cane-water/cut-cane.png`;return r.$$set=a=>{"progress"in a&&s(2,n=a.progress)},r.$$.update=()=>{r.$$.dirty&4&&s(0,t=Ce(n+.2,0,1))},[t,o,n]}class ye extends q{constructor(e){super(),P(this,e,kt,_t,M,{progress:2})}}function bt(r){let e;return{c(){e=y("div"),this.h()},l(s){e=I(s,"DIV",{class:!0,style:!0}),B(e).forEach(m),this.h()},h(){C(e,"class","wrapper svelte-5gdabs"),T(e,"background-image","url("+r[2]+")"),T(e,"transform","rotate("+r[3]+"deg) scale("+r[1]+") scaleX("+r[4]+")"),re(e,"picked",r[0])},m(s,t){V(s,e,t)},p(s,[t]){t&2&&T(e,"transform","rotate("+s[3]+"deg) scale("+s[1]+") scaleX("+s[4]+")"),t&1&&re(e,"picked",s[0])},i:z,o:z,d(s){s&&m(e)}}}function wt(r,e,s){let t;const n=`${te}/img/sugar-cane-water/cane.png`;let{picked:o=!1}=e;const a=me(-10,10),l=me(1,1.4),i=et()?1:-1;return r.$$set=f=>{"picked"in f&&s(0,o=f.picked)},r.$$.update=()=>{r.$$.dirty&1&&s(1,t=o?l*1.2:l)},[o,t,n,a,i]}class Ie extends q{constructor(e){super(),P(this,e,wt,bt,M,{picked:0})}}function vt(r){let e,s,t,n;return se(r[2]),e=new pt({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:r[1]?3:8,itemComponent:Ie,bgImage:`${te}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Tap the knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:ye,dragComponent:$e,targetStrokes:3}]}}),{c(){E(e.$$.fragment)},l(o){G(e.$$.fragment,o)},m(o,a){N(e,o,a),s=!0,t||(n=x(window,"resize",r[2]),t=!0)},p(o,[a]){const l={};a&2&&(l.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:o[1]?3:8,itemComponent:Ie,bgImage:`${te}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Tap the knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:ye,dragComponent:$e,targetStrokes:3}]),e.$set(l)},i(o){s||(b(e.$$.fragment,o),s=!0)},o(o){w(e.$$.fragment,o),s=!1},d(o){D(e,o),t=!1,n()}}}function St(r,e,s){let t,n=9999;function o(){s(0,n=window.innerWidth)}return r.$$.update=()=>{r.$$.dirty&1&&s(1,t=n<500)},[n,t,o]}class Tt extends q{constructor(e){super(),P(this,e,St,vt,M,{})}}export{Tt as default};
