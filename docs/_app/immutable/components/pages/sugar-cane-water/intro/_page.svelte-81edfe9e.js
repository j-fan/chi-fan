import{o as ce,S as j,i as U,s as q,k as y,l as $,m as I,h,n as T,b as V,g as H,t as k,A as P,d as O,f as _,q as R,a as W,r as X,c as K,C as v,u as re,M as ne,U as ue,v as D,w as z,x as E,y as N,E as De,G as Ee,H as Ne,I as Ge,p as B,N as Me,L as F,O as ze,V as fe,W as qe,X as Pe,e as oe,B as ae}from"../../../../chunks/index-eecdb0a3.js";import{b as se}from"../../../../chunks/paths-d2a11cad.js";import{B as Be}from"../../../../chunks/Button-9de61417.js";import{a as Te,b as je,f as Ue}from"../../../../chunks/index-9f715646.js";const Ve=(r,e,s)=>Math.min(Math.max(r,e),s),He=()=>{ce(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function de(r){let e,s;return e=new Be({props:{href:r[0].nextButton.href,$$slots:{default:[Oe]},$$scope:{ctx:r}}}),e.$on("click",r[1]),{c(){D(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.href=t[0].nextButton.href),n&129&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function Oe(r){let e=r[0].nextButton.text+"",s;return{c(){s=R(e)},l(t){s=X(t,e)},m(t,n){V(t,s,n)},p(t,n){n&1&&e!==(e=t[0].nextButton.text+"")&&re(s,e)},d(t){t&&h(s)}}}function ge(r){let e,s,t=r[0].characterName+"",n,o,a,l=r[0].bodyText+"",i,c,u,p,d,f=r[0].nextButton&&de(r);return{c(){e=y("div"),s=y("h3"),n=R(t),o=W(),a=y("p"),i=R(l),c=W(),u=y("div"),f&&f.c(),this.h()},l(m){e=$(m,"DIV",{class:!0});var g=I(e);s=$(g,"H3",{class:!0});var w=I(s);n=X(w,t),w.forEach(h),o=K(g),a=$(g,"P",{});var S=I(a);i=X(S,l),S.forEach(h),c=K(g),u=$(g,"DIV",{class:!0});var C=I(u);f&&f.l(C),C.forEach(h),g.forEach(h),this.h()},h(){T(s,"class","character-name svelte-1oqaosq"),T(u,"class","button-wrapper svelte-1oqaosq"),T(e,"class","dialog svelte-1oqaosq")},m(m,g){V(m,e,g),v(e,s),v(s,n),v(e,o),v(e,a),v(a,i),v(e,c),v(e,u),f&&f.m(u,null),d=!0},p(m,g){(!d||g&1)&&t!==(t=m[0].characterName+"")&&re(n,t),(!d||g&1)&&l!==(l=m[0].bodyText+"")&&re(i,l),m[0].nextButton?f?(f.p(m,g),g&1&&_(f,1)):(f=de(m),f.c(),_(f,1),f.m(u,null)):f&&(H(),k(f,1,1,()=>{f=null}),O())},i(m){d||(_(f),p||ne(()=>{p=ue(e,Te,{y:20,duration:400}),p.start()}),d=!0)},o(m){k(f),d=!1},d(m){m&&h(e),f&&f.d()}}}function Ae(r){let e,s=r[0],t,n=ge(r);return{c(){e=y("div"),n.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var a=I(e);n.l(a),a.forEach(h),this.h()},h(){T(e,"class","float-bottom-wrapper svelte-1oqaosq")},m(o,a){V(o,e,a),n.m(e,null),t=!0},p(o,[a]){a&1&&q(s,s=o[0])?(H(),k(n,1,1,P),O(),n=ge(o),n.c(),_(n,1),n.m(e,null)):n.p(o,a)},i(o){t||(_(n),t=!0)},o(o){k(n),t=!1},d(o){o&&h(e),n.d(o)}}}function Fe(r,e,s){let t,{dialogs:n}=e,{isValid:o}=e,{errorStep:a}=e,{successStep:l}=e,i=0;const c=()=>{var u,p,d;(u=t.nextButton)!=null&&u.href||((d=(p=t.nextButton)==null?void 0:p.action)==null||d.call(p),i<n.length-1?(s(6,i=i+1),s(0,t=n[i])):i===n.length-1&&s(6,i=i+1))};return r.$$set=u=>{"dialogs"in u&&s(2,n=u.dialogs),"isValid"in u&&s(3,o=u.isValid),"errorStep"in u&&s(4,a=u.errorStep),"successStep"in u&&s(5,l=u.successStep)},r.$$.update=()=>{if(r.$$.dirty&4&&n.length===0)throw new Error("You must provide at least 1 dialog option");r.$$.dirty&4&&s(0,t=n[0]),r.$$.dirty&124&&(i===n.length-1&&o&&s(0,t=l),i===n.length&&s(0,t=o?l:a))},[t,c,n,o,a,l,i]}class Re extends j{constructor(e){super(),U(this,e,Fe,Ae,q,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function We(r){let e,s,t,n,o;const a=r[5].default,l=De(a,r,r[4],null);return n=new Re({props:{dialogs:r[0],isValid:r[1],errorStep:r[2],successStep:r[3]}}),{c(){e=y("div"),s=y("div"),l&&l.c(),t=W(),D(n.$$.fragment),this.h()},l(i){e=$(i,"DIV",{class:!0});var c=I(e);s=$(c,"DIV",{class:!0});var u=I(s);l&&l.l(u),u.forEach(h),t=K(c),z(n.$$.fragment,c),c.forEach(h),this.h()},h(){T(s,"class","slide-content svelte-1n2hnli"),T(e,"class","wrapper svelte-1n2hnli")},m(i,c){V(i,e,c),v(e,s),l&&l.m(s,null),v(e,t),E(n,e,null),o=!0},p(i,[c]){l&&l.p&&(!o||c&16)&&Ee(l,a,i,i[4],o?Ge(a,i[4],c,null):Ne(i[4]),null);const u={};c&1&&(u.dialogs=i[0]),c&2&&(u.isValid=i[1]),c&4&&(u.errorStep=i[2]),c&8&&(u.successStep=i[3]),n.$set(u)},i(i){o||(_(l,i),_(n.$$.fragment,i),o=!0)},o(i){k(l,i),k(n.$$.fragment,i),o=!1},d(i){i&&h(e),l&&l.d(i),N(n)}}}function Xe(r,e,s){let{$$slots:t={},$$scope:n}=e,{dialogs:o}=e,{isValid:a}=e,{errorStep:l}=e,{successStep:i}=e;return r.$$set=c=>{"dialogs"in c&&s(0,o=c.dialogs),"isValid"in c&&s(1,a=c.isValid),"errorStep"in c&&s(2,l=c.errorStep),"successStep"in c&&s(3,i=c.successStep),"$$scope"in c&&s(4,n=c.$$scope)},[o,a,l,i,n,t]}class Ce extends j{constructor(e){super(),U(this,e,Xe,We,q,{dialogs:0,isValid:1,errorStep:2,successStep:3})}}function Ke(r){let e,s,t,n,o,a,l,i,c,u;var p=r[0].targetComponent;function d(g){return{props:{progress:g[2]/g[0].targetStrokes}}}p&&(t=new p(d(r)));var f=r[0].dragComponent;function m(g){return{props:{isIntersecting:g[1]}}}return f&&(a=new f(m(r))),{c(){e=y("div"),s=y("div"),t&&D(t.$$.fragment),n=W(),o=y("div"),a&&D(a.$$.fragment),this.h()},l(g){e=$(g,"DIV",{class:!0});var w=I(e);s=$(w,"DIV",{class:!0});var S=I(s);t&&z(t.$$.fragment,S),n=K(S),o=$(S,"DIV",{class:!0,style:!0});var C=I(o);a&&z(a.$$.fragment,C),C.forEach(h),S.forEach(h),w.forEach(h),this.h()},h(){T(o,"class","follow-mouse svelte-ucousf"),B(o,"left",r[3]+"px"),B(o,"top",r[4]+"px"),ne(()=>r[14].call(o)),T(s,"class","target svelte-ucousf"),T(e,"class","centered svelte-ucousf")},m(g,w){V(g,e,w),v(e,s),t&&E(t,s,null),v(s,n),v(s,o),a&&E(a,o,null),l=Me(o,r[14].bind(o)),r[15](o),r[16](s),i=!0,c||(u=[F(e,"mousemove",r[9]),F(e,"touchmove",r[10]),F(e,"mouseup",r[11]),F(e,"touchstart",r[11],{passive:!0}),F(e,"mousedown",r[12]),F(e,"touchend",r[12],{passive:!0})],c=!0)},p(g,w){const S={};if(w&5&&(S.progress=g[2]/g[0].targetStrokes),p!==(p=g[0].targetComponent)){if(t){H();const G=t;k(G.$$.fragment,1,0,()=>{N(G,1)}),O()}p?(t=new p(d(g)),D(t.$$.fragment),_(t.$$.fragment,1),E(t,s,n)):t=null}else p&&t.$set(S);const C={};if(w&2&&(C.isIntersecting=g[1]),f!==(f=g[0].dragComponent)){if(a){H();const G=a;k(G.$$.fragment,1,0,()=>{N(G,1)}),O()}f?(a=new f(m(g)),D(a.$$.fragment),_(a.$$.fragment,1),E(a,o,null)):a=null}else f&&a.$set(C);(!i||w&8)&&B(o,"left",g[3]+"px"),(!i||w&16)&&B(o,"top",g[4]+"px")},i(g){i||(t&&_(t.$$.fragment,g),a&&_(a.$$.fragment,g),i=!0)},o(g){t&&k(t.$$.fragment,g),a&&k(a.$$.fragment,g),i=!1},d(g){g&&h(e),t&&N(t),a&&N(a),l(),r[15](null),r[16](null),c=!1,ze(u)}}}function Ye(r){let e,s;return e=new Ce({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[2]===r[0].targetStrokes,$$slots:{default:[Ke]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,[n]){const o={};n&1&&(o.dialogs=t[0].dialogs),n&1&&(o.errorStep=t[0].errorStep),n&1&&(o.successStep=t[0].successStep),n&5&&(o.isValid=t[2]===t[0].targetStrokes),n&262655&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function Le(r,e,s){let{props:t}=e,n=-200,o=-200,a=0,l=0,i,c,u=!1,p,d=0;const f=b=>{const M=i.getBoundingClientRect();s(3,n=b.clientX-M.x-a/2),s(4,o=b.clientY-M.y-l/2)},m=b=>{const M=i.getBoundingClientRect();s(3,n=b.changedTouches[0].clientX-M.x-a/2),s(4,o=b.changedTouches[0].clientY-M.y-l/2)},g=()=>{},w=()=>{};ce(()=>{const b=Y=>{Y.forEach(L=>{s(1,u=L.isIntersecting)})},M=new IntersectionObserver(b,{root:i,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return M.observe(c),()=>{M.disconnect()}}),He();function S(){a=this.clientWidth,l=this.clientHeight,s(5,a),s(6,l)}function C(b){fe[b?"unshift":"push"](()=>{c=b,s(8,c)})}function G(b){fe[b?"unshift":"push"](()=>{i=b,s(7,i)})}return r.$$set=b=>{"props"in b&&s(0,t=b.props)},r.$$.update=()=>{if(r.$$.dirty&8199){if(u)s(13,p=new Date().getTime());else if(!u){const b=new Date().getTime();p&&b-p>500&&s(2,d=Ve(d+1,0,t.targetStrokes)),s(13,p=void 0)}}},[t,u,d,n,o,a,l,i,c,f,m,g,w,p,S,C,G]}class Je extends j{constructor(e){super(),U(this,e,Le,Ye,q,{props:0})}}const Qe=.5*(Math.sqrt(3)-1),te=(3-Math.sqrt(3))/6,pe=r=>Math.floor(r)|0,he=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function Ze(r=Math.random){const e=xe(r),s=new Float64Array(e).map(n=>he[n%12*2]),t=new Float64Array(e).map(n=>he[n%12*2+1]);return function(o,a){let l=0,i=0,c=0;const u=(o+a)*Qe,p=pe(o+u),d=pe(a+u),f=(p+d)*te,m=p-f,g=d-f,w=o-m,S=a-g;let C,G;w>S?(C=1,G=0):(C=0,G=1);const b=w-C+te,M=S-G+te,Y=w-1+2*te,L=S-1+2*te,ie=p&255,le=d&255;let J=.5-w*w-S*S;if(J>=0){const A=ie+e[le],x=s[A],ee=t[A];J*=J,l=J*J*(x*w+ee*S)}let Q=.5-b*b-M*M;if(Q>=0){const A=ie+C+e[le+G],x=s[A],ee=t[A];Q*=Q,i=Q*Q*(x*b+ee*M)}let Z=.5-Y*Y-L*L;if(Z>=0){const A=ie+1+e[le+1],x=s[A],ee=t[A];Z*=Z,c=Z*Z*(x*Y+ee*L)}return 70*(l+i+c)}}function xe(r){const s=new Uint8Array(512);for(let t=0;t<512/2;t++)s[t]=t;for(let t=0;t<512/2-1;t++){const n=t+~~(r()*(256-t)),o=s[t];s[t]=s[n],s[n]=o}for(let t=256;t<512;t++)s[t]=s[t-256];return s}const me=(r=0,e=100)=>{const s=e-r;let t=Math.random();return t=t*s,t=t+r,t},_e=(r=0,e=100,s=0,t=0,n=0)=>{const o=e-r;let l=(Ze(()=>n)(s,t)+1)/2;return l=Math.floor(l*o),l=l+r,l},et=()=>Math.random()>.5;function ke(r,e,s){const t=r.slice();return t[4]=e[s],t[6]=s,t}function be(r,e){let s,t,n,o,a,l;var i=e[0].itemComponent;function c(p){return{props:{picked:p[1].has(p[6])}}}i&&(t=new i(c(e)));function u(){return e[3](e[6])}return{key:r,first:null,c(){s=y("div"),t&&D(t.$$.fragment),n=W(),this.h()},l(p){s=$(p,"DIV",{class:!0,style:!0});var d=I(s);t&&z(t.$$.fragment,d),n=K(d),d.forEach(h),this.h()},h(){T(s,"class","item-wrapper svelte-22hzw9"),B(s,"left",_e(-20,100,e[6],0,we)+"%"),B(s,"bottom","12%"),this.first=s},m(p,d){V(p,s,d),t&&E(t,s,null),v(s,n),o=!0,a||(l=F(s,"click",u),a=!0)},p(p,d){e=p;const f={};if(d&3&&(f.picked=e[1].has(e[6])),i!==(i=e[0].itemComponent)){if(t){H();const m=t;k(m.$$.fragment,1,0,()=>{N(m,1)}),O()}i?(t=new i(c(e)),D(t.$$.fragment),_(t.$$.fragment,1),E(t,s,n)):t=null}else i&&t.$set(f);(!o||d&1)&&B(s,"left",_e(-20,100,e[6],0,we)+"%")},i(p){o||(t&&_(t.$$.fragment,p),o=!0)},o(p){t&&k(t.$$.fragment,p),o=!1},d(p){p&&h(s),t&&N(t),a=!1,l()}}}function tt(r){let e,s,t,n=r[1].size+"",o,a,l=[],i=new Map,c,u=Array(r[0].totalItems);const p=d=>d[6];for(let d=0;d<u.length;d+=1){let f=ke(r,u,d),m=p(f);i.set(m,l[d]=be(m,f))}return{c(){e=y("div"),s=y("p"),t=R("Picked: "),o=R(n),a=W();for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){e=$(d,"DIV",{class:!0,style:!0});var f=I(e);s=$(f,"P",{});var m=I(s);t=X(m,"Picked: "),o=X(m,n),m.forEach(h),a=K(f);for(let g=0;g<l.length;g+=1)l[g].l(f);f.forEach(h),this.h()},h(){T(e,"class","items-container svelte-22hzw9"),B(e,"background-image","url("+r[0].bgImage+")")},m(d,f){V(d,e,f),v(e,s),v(s,t),v(s,o),v(e,a);for(let m=0;m<l.length;m+=1)l[m].m(e,null);c=!0},p(d,f){(!c||f&2)&&n!==(n=d[1].size+"")&&re(o,n),f&7&&(u=Array(d[0].totalItems),H(),l=qe(l,f,p,1,d,u,i,e,Pe,be,null,ke),O()),(!c||f&1)&&B(e,"background-image","url("+d[0].bgImage+")")},i(d){if(!c){for(let f=0;f<u.length;f+=1)_(l[f]);c=!0}},o(d){for(let f=0;f<l.length;f+=1)k(l[f]);c=!1},d(d){d&&h(e);for(let f=0;f<l.length;f+=1)l[f].d()}}}function st(r){let e,s;return e=new Ce({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[1].size>=r[0].targetCount,$$slots:{default:[tt]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,[n]){const o={};n&1&&(o.dialogs=t[0].dialogs),n&1&&(o.errorStep=t[0].errorStep),n&1&&(o.successStep=t[0].successStep),n&3&&(o.isValid=t[1].size>=t[0].targetCount),n&131&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}const we=.34987;function nt(r,e,s){let{props:t}=e,n=new Set;const o=l=>{n.has(l)?n.delete(l):n.add(l),s(1,n)},a=l=>{o(l)};return r.$$set=l=>{"props"in l&&s(0,t=l.props)},r.$$.update=()=>{if(r.$$.dirty&1&&t.totalItems<t.targetCount)throw new Error("The target count must be less than the total items")},[t,n,o,a]}class rt extends j{constructor(e){super(),U(this,e,nt,st,q,{props:0})}}function ot(r){let e,s;return{c(){e=y("div"),s=R("Unknown slide type")},l(t){e=$(t,"DIV",{});var n=I(e);s=X(n,"Unknown slide type"),n.forEach(h)},m(t,n){V(t,e,n),v(e,s)},p:P,i:P,o:P,d(t){t&&h(e)}}}function at(r){let e,s;return e=new Je({props:{props:r[0]}}),{c(){D(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.props=t[0]),e.$set(o)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function it(r){let e,s;return e=new rt({props:{props:r[0]}}),{c(){D(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,n){E(e,t,n),s=!0},p(t,n){const o={};n&1&&(o.props=t[0]),e.$set(o)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){N(e,t)}}}function lt(r){let e,s,t,n;const o=[it,at,ot],a=[];function l(i,c){return i[0].type==="pick-items"?0:i[0].type==="drag-sides"?1:2}return e=l(r),s=a[e]=o[e](r),{c(){s.c(),t=oe()},l(i){s.l(i),t=oe()},m(i,c){a[e].m(i,c),V(i,t,c),n=!0},p(i,[c]){let u=e;e=l(i),e===u?a[e].p(i,c):(H(),k(a[u],1,1,()=>{a[u]=null}),O(),s=a[e],s?s.p(i,c):(s=a[e]=o[e](i),s.c()),_(s,1),s.m(t.parentNode,t))},i(i){n||(_(s),n=!0)},o(i){k(s),n=!1},d(i){a[e].d(i),i&&h(t)}}}function ct(r,e,s){let{props:t}=e;return r.$$set=n=>{"props"in n&&s(0,t=n.props)},[t]}class ut extends j{constructor(e){super(),U(this,e,ct,lt,q,{props:0})}}function Se(r){let e,s,t,n;return s=new Be({props:{href:r[0],$$slots:{default:[ft]},$$scope:{ctx:r}}}),{c(){e=y("div"),D(s.$$.fragment),this.h()},l(o){e=$(o,"DIV",{class:!0});var a=I(e);z(s.$$.fragment,a),a.forEach(h),this.h()},h(){T(e,"class","skip-button svelte-spxpjq")},m(o,a){V(o,e,a),E(s,e,null),n=!0},p(o,a){r=o;const l={};a&1&&(l.href=r[0]),a&128&&(l.$$scope={dirty:a,ctx:r}),s.$set(l)},i(o){n||(_(s.$$.fragment,o),t||ne(()=>{t=ue(e,Te,{y:-20,easing:je,delay:2e3,duration:600}),t.start()}),n=!0)},o(o){k(s.$$.fragment,o),n=!1},d(o){o&&h(e),N(s)}}}function ft(r){let e;return{c(){e=R("Skip")},l(s){e=X(s,"Skip")},m(s,t){V(s,e,t)},d(s){s&&h(e)}}}function ve(r){let e,s,t,n,o;s=new ut({props:{props:{...r[1],successStep:r[3]}}});let a=r[2]&&Se(r);return{c(){e=y("div"),D(s.$$.fragment),t=W(),a&&a.c(),this.h()},l(l){e=$(l,"DIV",{class:!0});var i=I(e);z(s.$$.fragment,i),t=K(i),a&&a.l(i),i.forEach(h),this.h()},h(){T(e,"class","wrapper svelte-spxpjq")},m(l,i){V(l,e,i),E(s,e,null),v(e,t),a&&a.m(e,null),o=!0},p(l,i){const c={};i&10&&(c.props={...l[1],successStep:l[3]}),s.$set(c),l[2]?a?(a.p(l,i),i&4&&_(a,1)):(a=Se(l),a.c(),_(a,1),a.m(e,null)):a&&(H(),k(a,1,1,()=>{a=null}),O())},i(l){o||(_(s.$$.fragment,l),_(a),n||ne(()=>{n=ue(e,Ue,{duration:500}),n.start()}),o=!0)},o(l){k(s.$$.fragment,l),k(a),o=!1},d(l){l&&h(e),N(s),a&&a.d()}}}function dt(r){let e=r[1],s,t,n=ve(r);return{c(){n.c(),s=oe()},l(o){n.l(o),s=oe()},m(o,a){n.m(o,a),V(o,s,a),t=!0},p(o,[a]){a&2&&q(e,e=o[1])?(H(),k(n,1,1,P),O(),n=ve(o),n.c(),_(n,1),n.m(s.parentNode,s)):n.p(o,a)},i(o){t||(_(n),t=!0)},o(o){k(n),t=!1},d(o){o&&h(s),n.d(o)}}}function gt(r,e,s){let t,n,{slides:o}=e,{skipButtonUrl:a}=e,l=!1,i=0;const c=()=>{i<o.length-1&&s(5,i=i+1)};return ce(()=>{s(2,l=!0)}),r.$$set=u=>{"slides"in u&&s(4,o=u.slides),"skipButtonUrl"in u&&s(0,a=u.skipButtonUrl)},r.$$.update=()=>{if(r.$$.dirty&16&&o.length===0)throw new Error("You must provide at least 1 slide option");if(r.$$.dirty&48&&s(1,t=o[i]),r.$$.dirty&2&&s(3,n=t.successStep),r.$$.dirty&2){const u=t.successStep.nextButton;s(3,n={...t.successStep,nextButton:{...t.successStep.nextButton,text:(u==null?void 0:u.text)||"Ok",action:()=>{var p;(p=u==null?void 0:u.action)==null||p.call(u),c()}}})}},[a,t,l,n,o,i]}class pt extends j{constructor(e){super(),U(this,e,gt,dt,q,{slides:4,skipButtonUrl:0})}}function ht(r){let e;return{c(){e=y("div"),this.h()},l(s){e=$(s,"DIV",{class:!0,style:!0}),I(e).forEach(h),this.h()},h(){T(e,"class","wrapper svelte-pxcvxj"),B(e,"background-image","url("+r[1]+")"),ae(e,"isIntersecting",r[0])},m(s,t){V(s,e,t)},p(s,[t]){t&1&&ae(e,"isIntersecting",s[0])},i:P,o:P,d(s){s&&h(e)}}}function mt(r,e,s){let{isIntersecting:t=!1}=e;const n=`${se}/img/sugar-cane-water/cleaver2.png`;return r.$$set=o=>{"isIntersecting"in o&&s(0,t=o.isIntersecting)},[t,n]}class ye extends j{constructor(e){super(),U(this,e,mt,ht,q,{isIntersecting:0})}}function _t(r){let e;return{c(){e=y("div"),this.h()},l(s){e=$(s,"DIV",{class:!0,style:!0}),I(e).forEach(h),this.h()},h(){T(e,"class","wrapper svelte-133a6a0"),B(e,"filter","brightness("+r[0]+")"),B(e,"background-image","url("+r[1]+")")},m(s,t){V(s,e,t)},p(s,[t]){t&1&&B(e,"filter","brightness("+s[0]+")")},i:P,o:P,d(s){s&&h(e)}}}function kt(r,e,s){let t,{progress:n=0}=e;const o=`${se}/img/sugar-cane-water/cut-cane.png`;return r.$$set=a=>{"progress"in a&&s(2,n=a.progress)},r.$$.update=()=>{r.$$.dirty&4&&s(0,t=Ve(n+.2,0,1))},[t,o,n]}class $e extends j{constructor(e){super(),U(this,e,kt,_t,q,{progress:2})}}function bt(r){let e;return{c(){e=y("div"),this.h()},l(s){e=$(s,"DIV",{class:!0,style:!0}),I(e).forEach(h),this.h()},h(){T(e,"class","wrapper svelte-5gdabs"),B(e,"background-image","url("+r[2]+")"),B(e,"transform","rotate("+r[3]+"deg) scale("+r[1]+") scaleX("+r[4]+")"),ae(e,"picked",r[0])},m(s,t){V(s,e,t)},p(s,[t]){t&2&&B(e,"transform","rotate("+s[3]+"deg) scale("+s[1]+") scaleX("+s[4]+")"),t&1&&ae(e,"picked",s[0])},i:P,o:P,d(s){s&&h(e)}}}function wt(r,e,s){let t;const n=`${se}/img/sugar-cane-water/cane.png`;let{picked:o=!1}=e;const a=me(-10,10),l=me(1,1.4),i=et()?1:-1;return r.$$set=c=>{"picked"in c&&s(0,o=c.picked)},r.$$.update=()=>{r.$$.dirty&1&&s(1,t=o?l*1.2:l)},[o,t,n,a,i]}class Ie extends j{constructor(e){super(),U(this,e,wt,bt,q,{picked:0})}}function St(r){let e,s,t,n;return ne(r[2]),e=new pt({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:r[1]?3:8,itemComponent:Ie,bgImage:`${se}/img/sugar-cane-water/canes-background.png`},{type:"drag-sides",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Drag your knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:$e,dragComponent:ye,targetStrokes:3}]}}),{c(){D(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){E(e,o,a),s=!0,t||(n=F(window,"resize",r[2]),t=!0)},p(o,[a]){const l={};a&2&&(l.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:o[1]?3:8,itemComponent:Ie,bgImage:`${se}/img/sugar-cane-water/canes-background.png`},{type:"drag-sides",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Drag your knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:$e,dragComponent:ye,targetStrokes:3}]),e.$set(l)},i(o){s||(_(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){N(e,o),t=!1,n()}}}function vt(r,e,s){let t,n=9999;function o(){s(0,n=window.innerWidth)}return r.$$.update=()=>{r.$$.dirty&1&&s(1,t=n<500)},[n,t,o]}class Tt extends j{constructor(e){super(),U(this,e,vt,St,q,{})}}export{Tt as default};
