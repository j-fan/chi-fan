import{S as F,i as O,s as P,e as Q,b as E,B as D,h as p,o as le,k as B,l as T,m as V,n as N,C as R,U as Fe,p as k,g as W,t as w,d as X,f as v,q as H,a as L,r as K,c as J,D as C,u as ie,N as oe,V as ge,w as G,x as q,y as z,z as M,F as Oe,H as Re,I as Ue,J as We,v as x,O as Xe,M as ae,P as Ye,W as de,X as He,Y as Ke,Z as Le,_ as Je,$ as Ze}from"../../../../chunks/index-a33fa324.js";import{b as U}from"../../../../chunks/paths-b4419565.js";import{B as Pe}from"../../../../chunks/Button-730b59c7.js";import{a as Ae,b as Qe,f as xe}from"../../../../chunks/index-6188c6ed.js";function me(r,e,n){const t=r.slice();return t[18]=e[n],t}function he(r){let e,n={length:r[6]},t=[];for(let s=0;s<n.length;s+=1)t[s]=pe(me(r,n,s));return{c(){e=B("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var a=V(e);for(let i=0;i<t.length;i+=1)t[i].l(a);a.forEach(p),this.h()},h(){N(e,"class","confetti-holder svelte-io58ff"),R(e,"rounded",r[9]),R(e,"cone",r[10]),R(e,"no-gravity",r[11])},m(s,a){E(s,e,a);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(s,a){if(a&20991){n={length:s[6]};let i;for(i=0;i<n.length;i+=1){const o=me(s,n,i);t[i]?t[i].p(o,a):(t[i]=pe(o),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}a&512&&R(e,"rounded",s[9]),a&1024&&R(e,"cone",s[10]),a&2048&&R(e,"no-gravity",s[11])},d(s){s&&p(e),Fe(t,s)}}}function pe(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(p),this.h()},h(){N(e,"class","confetti svelte-io58ff"),k(e,"--fall-distance",r[8]),k(e,"--size",r[0]+"px"),k(e,"--color",r[14]()),k(e,"--skew",j(-45,45)+"deg,"+j(-45,45)+"deg"),k(e,"--rotation-xyz",j(-10,10)+", "+j(-10,10)+", "+j(-10,10)),k(e,"--rotation-deg",j(0,360)+"deg"),k(e,"--translate-y-multiplier",j(r[2][0],r[2][1])),k(e,"--translate-x-multiplier",j(r[1][0],r[1][1])),k(e,"--scale",.1*j(2,10)),k(e,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),k(e,"--transition-delay",j(r[5][0],r[5][1])+"ms"),k(e,"--transition-iteration-count",r[4]?"infinite":r[7]),k(e,"--x-spread",1-r[12])},m(n,t){E(n,e,t)},p(n,t){t&256&&k(e,"--fall-distance",n[8]),t&1&&k(e,"--size",n[0]+"px"),t&4&&k(e,"--translate-y-multiplier",j(n[2][0],n[2][1])),t&2&&k(e,"--translate-x-multiplier",j(n[1][0],n[1][1])),t&24&&k(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),t&32&&k(e,"--transition-delay",j(n[5][0],n[5][1])+"ms"),t&144&&k(e,"--transition-iteration-count",n[4]?"infinite":n[7]),t&4096&&k(e,"--x-spread",1-n[12])},d(n){n&&p(e)}}}function $e(r){let e,n=!r[13]&&he(r);return{c(){n&&n.c(),e=Q()},l(t){n&&n.l(t),e=Q()},m(t,s){n&&n.m(t,s),E(t,e,s)},p(t,[s]){t[13]?n&&(n.d(1),n=null):n?n.p(t,s):(n=he(t),n.c(),n.m(e.parentNode,e))},i:D,o:D,d(t){n&&n.d(t),t&&p(e)}}}function j(r,e){return Math.random()*(e-r)+r}function et(r,e,n){let{size:t=10}=e,{x:s=[-.5,.5]}=e,{y:a=[.25,1]}=e,{duration:i=2e3}=e,{infinite:o=!1}=e,{delay:l=[0,50]}=e,{colorRange:f=[0,360]}=e,{colorArray:c=[]}=e,{amount:g=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:b=!1}=e,{noGravity:S=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:u=!0}=e,I=!1;le(()=>{!u||o||d=="infinite"||setTimeout(()=>n(13,I=!0),(i+l[1])*d)});function A(){return c.length?c[Math.round(Math.random()*(c.length-1))]:`hsl(${Math.round(j(f[0],f[1]))}, 75%, 50%`}return r.$$set=_=>{"size"in _&&n(0,t=_.size),"x"in _&&n(1,s=_.x),"y"in _&&n(2,a=_.y),"duration"in _&&n(3,i=_.duration),"infinite"in _&&n(4,o=_.infinite),"delay"in _&&n(5,l=_.delay),"colorRange"in _&&n(15,f=_.colorRange),"colorArray"in _&&n(16,c=_.colorArray),"amount"in _&&n(6,g=_.amount),"iterationCount"in _&&n(7,d=_.iterationCount),"fallDistance"in _&&n(8,m=_.fallDistance),"rounded"in _&&n(9,h=_.rounded),"cone"in _&&n(10,b=_.cone),"noGravity"in _&&n(11,S=_.noGravity),"xSpread"in _&&n(12,y=_.xSpread),"destroyOnComplete"in _&&n(17,u=_.destroyOnComplete)},[t,s,a,i,o,l,g,d,m,h,b,S,y,I,A,f,c,u]}class tt extends F{constructor(e){super(),O(this,e,et,$e,P,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}const je=(r,e,n)=>Math.min(Math.max(r,e),n),nt=()=>{le(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function _e(r){let e,n;return e=new Pe({props:{href:r[0].nextButton.href,$$slots:{default:[st]},$$scope:{ctx:r}}}),e.$on("click",r[1]),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.href=t[0].nextButton.href),s&129&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function st(r){let e=r[0].nextButton.text+"",n;return{c(){n=H(e)},l(t){n=K(t,e)},m(t,s){E(t,n,s)},p(t,s){s&1&&e!==(e=t[0].nextButton.text+"")&&ie(n,e)},d(t){t&&p(n)}}}function be(r){let e,n,t=r[0].characterName+"",s,a,i,o=r[0].bodyText+"",l,f,c,g,d,m=r[0].nextButton&&_e(r);return{c(){e=B("div"),n=B("h3"),s=H(t),a=L(),i=B("p"),l=H(o),f=L(),c=B("div"),m&&m.c(),this.h()},l(h){e=T(h,"DIV",{class:!0});var b=V(e);n=T(b,"H3",{class:!0});var S=V(n);s=K(S,t),S.forEach(p),a=J(b),i=T(b,"P",{});var y=V(i);l=K(y,o),y.forEach(p),f=J(b),c=T(b,"DIV",{class:!0});var u=V(c);m&&m.l(u),u.forEach(p),b.forEach(p),this.h()},h(){N(n,"class","character-name svelte-vqtwd3"),N(c,"class","button-wrapper svelte-vqtwd3"),N(e,"class","dialog svelte-vqtwd3")},m(h,b){E(h,e,b),C(e,n),C(n,s),C(e,a),C(e,i),C(i,l),C(e,f),C(e,c),m&&m.m(c,null),d=!0},p(h,b){(!d||b&1)&&t!==(t=h[0].characterName+"")&&ie(s,t),(!d||b&1)&&o!==(o=h[0].bodyText+"")&&ie(l,o),h[0].nextButton?m?(m.p(h,b),b&1&&v(m,1)):(m=_e(h),m.c(),v(m,1),m.m(c,null)):m&&(W(),w(m,1,1,()=>{m=null}),X())},i(h){d||(v(m),g||oe(()=>{g=ge(e,Ae,{y:20,duration:400}),g.start()}),d=!0)},o(h){w(m),d=!1},d(h){h&&p(e),m&&m.d()}}}function rt(r){let e,n=r[0],t,s=be(r);return{c(){e=B("div"),s.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=V(e);s.l(i),i.forEach(p),this.h()},h(){N(e,"class","float-bottom-wrapper svelte-vqtwd3")},m(a,i){E(a,e,i),s.m(e,null),t=!0},p(a,[i]){i&1&&P(n,n=a[0])?(W(),w(s,1,1,D),X(),s=be(a),s.c(),v(s,1),s.m(e,null)):s.p(a,i)},i(a){t||(v(s),t=!0)},o(a){w(s),t=!1},d(a){a&&p(e),s.d(a)}}}function at(r,e,n){let t,{dialogs:s}=e,{isValid:a}=e,{errorStep:i}=e,{successStep:o}=e,l=0;const f=()=>{var c,g,d;(c=t.nextButton)!=null&&c.href||((d=(g=t.nextButton)==null?void 0:g.action)==null||d.call(g),l<s.length-1?(n(6,l=l+1),n(0,t=s[l])):l===s.length-1&&n(6,l=l+1))};return r.$$set=c=>{"dialogs"in c&&n(2,s=c.dialogs),"isValid"in c&&n(3,a=c.isValid),"errorStep"in c&&n(4,i=c.errorStep),"successStep"in c&&n(5,o=c.successStep)},r.$$.update=()=>{if(r.$$.dirty&4&&s.length===0)throw new Error("You must provide at least 1 dialog option");r.$$.dirty&4&&n(0,t=s[0]),r.$$.dirty&124&&(l===s.length-1&&a&&n(0,t=o),l===s.length&&n(0,t=a?o:i))},[t,f,s,a,i,o,l]}class it extends F{constructor(e){super(),O(this,e,at,rt,P,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function ot(r){let e,n,t,s,a,i,o,l,f,c,g;const d=r[8].default,m=Oe(d,r,r[7],null);return c=new it({props:{dialogs:r[0],isValid:r[1],errorStep:r[2],successStep:r[3]}}),{c(){e=B("div"),n=B("div"),t=B("p"),s=H("Progress: "),a=H(r[5]),i=H(" / "),o=H(r[6]),l=L(),m&&m.c(),f=L(),G(c.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var b=V(e);n=T(b,"DIV",{class:!0,style:!0});var S=V(n);t=T(S,"P",{class:!0});var y=V(t);s=K(y,"Progress: "),a=K(y,r[5]),i=K(y," / "),o=K(y,r[6]),y.forEach(p),l=J(S),m&&m.l(S),S.forEach(p),f=J(b),q(c.$$.fragment,b),b.forEach(p),this.h()},h(){N(t,"class","progress svelte-va0idu"),N(n,"class","slide-content svelte-va0idu"),k(n,"background-image","url("+r[4]+")"),N(e,"class","wrapper svelte-va0idu")},m(h,b){E(h,e,b),C(e,n),C(n,t),C(t,s),C(t,a),C(t,i),C(t,o),C(n,l),m&&m.m(n,null),C(e,f),z(c,e,null),g=!0},p(h,[b]){(!g||b&32)&&ie(a,h[5]),(!g||b&64)&&ie(o,h[6]),m&&m.p&&(!g||b&128)&&Re(m,d,h,h[7],g?We(d,h[7],b,null):Ue(h[7]),null),(!g||b&16)&&k(n,"background-image","url("+h[4]+")");const S={};b&1&&(S.dialogs=h[0]),b&2&&(S.isValid=h[1]),b&4&&(S.errorStep=h[2]),b&8&&(S.successStep=h[3]),c.$set(S)},i(h){g||(v(m,h),v(c.$$.fragment,h),g=!0)},o(h){w(m,h),w(c.$$.fragment,h),g=!1},d(h){h&&p(e),m&&m.d(h),M(c)}}}function lt(r,e,n){let{$$slots:t={},$$scope:s}=e,{dialogs:a}=e,{isValid:i}=e,{errorStep:o}=e,{successStep:l}=e,{bgImage:f=void 0}=e,{progressNum:c}=e,{progressTotal:g}=e;return r.$$set=d=>{"dialogs"in d&&n(0,a=d.dialogs),"isValid"in d&&n(1,i=d.isValid),"errorStep"in d&&n(2,o=d.errorStep),"successStep"in d&&n(3,l=d.successStep),"bgImage"in d&&n(4,f=d.bgImage),"progressNum"in d&&n(5,c=d.progressNum),"progressTotal"in d&&n(6,g=d.progressTotal),"$$scope"in d&&n(7,s=d.$$scope)},[a,i,o,l,f,c,g,s,t]}class qe extends F{constructor(e){super(),O(this,e,lt,ot,P,{dialogs:0,isValid:1,errorStep:2,successStep:3,bgImage:4,progressNum:5,progressTotal:6})}}function ke(r){let e,n;const t=[r[0].confettiProps];let s={};for(let a=0;a<t.length;a+=1)s=He(s,t[a]);return e=new tt({props:s}),{c(){G(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,i){z(e,a,i),n=!0},p(a,i){const o=i&1?Ke(t,[Le(a[0].confettiProps)]):{};e.$set(o)},i(a){n||(v(e.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),n=!1},d(a){M(e,a)}}}function ve(r){let e,n,t=r[8]>0&&ke(r);return{c(){t&&t.c(),e=Q()},l(s){t&&t.l(s),e=Q()},m(s,a){t&&t.m(s,a),E(s,e,a),n=!0},p(s,a){s[8]>0?t?(t.p(s,a),a&256&&v(t,1)):(t=ke(s),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(W(),w(t,1,1,()=>{t=null}),X())},i(s){n||(v(t),n=!0)},o(s){w(t),n=!1},d(s){t&&t.d(s),s&&p(e)}}}function ct(r){let e,n,t,s,a,i,o,l=r[8],f,c,g,d;var m=r[0].targetComponent;function h(u){return{props:{progress:u[8]/u[0].targetClicks}}}m&&(t=x(m,h(r)));var b=r[0].dragComponent;function S(u){return{props:{isIntersecting:u[7]}}}b&&(i=x(b,S(r)));let y=ve(r);return{c(){e=B("div"),n=B("div"),t&&G(t.$$.fragment),s=L(),a=B("div"),i&&G(i.$$.fragment),o=L(),y.c(),this.h()},l(u){e=T(u,"DIV",{class:!0});var I=V(e);n=T(I,"DIV",{class:!0});var A=V(n);t&&q(t.$$.fragment,A),s=J(A),a=T(A,"DIV",{class:!0,style:!0});var _=V(a);i&&q(i.$$.fragment,_),o=J(_),y.l(_),_.forEach(p),A.forEach(p),I.forEach(p),this.h()},h(){N(a,"class","follow-mouse svelte-1v7syx2"),k(a,"left",r[1]+"px"),k(a,"top",r[2]+"px"),oe(()=>r[11].call(a)),N(n,"class","target svelte-1v7syx2"),N(e,"class","centered svelte-1v7syx2")},m(u,I){E(u,e,I),C(e,n),t&&z(t,n,null),C(n,s),C(n,a),i&&z(i,a,null),C(a,o),y.m(a,null),f=Xe(a,r[11].bind(a)),r[12](a),r[13](n),c=!0,g||(d=[ae(e,"click",r[14]),ae(e,"mousemove",r[9]),ae(e,"touchmove",r[10])],g=!0)},p(u,I){const A={};if(I&257&&(A.progress=u[8]/u[0].targetClicks),m!==(m=u[0].targetComponent)){if(t){W();const Y=t;w(Y.$$.fragment,1,0,()=>{M(Y,1)}),X()}m?(t=x(m,h(u)),G(t.$$.fragment),v(t.$$.fragment,1),z(t,n,s)):t=null}else m&&t.$set(A);const _={};if(I&128&&(_.isIntersecting=u[7]),b!==(b=u[0].dragComponent)){if(i){W();const Y=i;w(Y.$$.fragment,1,0,()=>{M(Y,1)}),X()}b?(i=x(b,S(u)),G(i.$$.fragment),v(i.$$.fragment,1),z(i,a,o)):i=null}else b&&i.$set(_);I&256&&P(l,l=u[8])?(W(),w(y,1,1,D),X(),y=ve(u),y.c(),v(y,1),y.m(a,null)):y.p(u,I),(!c||I&2)&&k(a,"left",u[1]+"px"),(!c||I&4)&&k(a,"top",u[2]+"px")},i(u){c||(t&&v(t.$$.fragment,u),i&&v(i.$$.fragment,u),v(y),c=!0)},o(u){t&&w(t.$$.fragment,u),i&&w(i.$$.fragment,u),w(y),c=!1},d(u){u&&p(e),t&&M(t),i&&M(i),y.d(u),f(),r[12](null),r[13](null),g=!1,Ye(d)}}}function ut(r){let e,n;return e=new qe({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[8]===r[0].targetClicks,bgImage:r[0].bgImage,progressNum:r[8],progressTotal:r[0].targetClicks,$$slots:{default:[ct]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,[s]){const a={};s&1&&(a.dialogs=t[0].dialogs),s&1&&(a.errorStep=t[0].errorStep),s&1&&(a.successStep=t[0].successStep),s&257&&(a.isValid=t[8]===t[0].targetClicks),s&1&&(a.bgImage=t[0].bgImage),s&256&&(a.progressNum=t[8]),s&1&&(a.progressTotal=t[0].targetClicks),s&33279&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ft(r,e,n){let{props:t}=e,s=-200,a=-200,i=0,o=0,l,f,c=!1,g=0;const d=u=>{const I=l.getBoundingClientRect();n(1,s=u.clientX-I.x-i/2),n(2,a=u.clientY-I.y-o/2)},m=u=>{const I=l.getBoundingClientRect();n(1,s=u.changedTouches[0].clientX-I.x-i/2),n(2,a=u.changedTouches[0].clientY-I.y-o/2)};le(()=>{const u=A=>{A.forEach(_=>{n(7,c=_.isIntersecting)})},I=new IntersectionObserver(u,{root:l,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return I.observe(f),()=>{I.disconnect()}}),nt();function h(){i=this.clientWidth,o=this.clientHeight,n(3,i),n(4,o)}function b(u){de[u?"unshift":"push"](()=>{f=u,n(6,f)})}function S(u){de[u?"unshift":"push"](()=>{l=u,n(5,l)})}const y=()=>{c&&n(8,g=je(g+1,0,t.targetClicks))};return r.$$set=u=>{"props"in u&&n(0,t=u.props)},[t,s,a,i,o,l,f,c,g,d,m,h,b,S,y]}class gt extends F{constructor(e){super(),O(this,e,ft,ut,P,{props:0})}}const dt=.5*(Math.sqrt(3)-1),re=(3-Math.sqrt(3))/6,ye=r=>Math.floor(r)|0,we=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function mt(r=Math.random){const e=ht(r),n=new Float64Array(e).map(s=>we[s%12*2]),t=new Float64Array(e).map(s=>we[s%12*2+1]);return function(a,i){let o=0,l=0,f=0;const c=(a+i)*dt,g=ye(a+c),d=ye(i+c),m=(g+d)*re,h=g-m,b=d-m,S=a-h,y=i-b;let u,I;S>y?(u=1,I=0):(u=0,I=1);const A=S-u+re,_=y-I+re,Y=S-1+2*re,ce=y-1+2*re,ue=g&255,fe=d&255;let $=.5-S*S-y*y;if($>=0){const Z=ue+e[fe],ne=n[Z],se=t[Z];$*=$,o=$*$*(ne*S+se*y)}let ee=.5-A*A-_*_;if(ee>=0){const Z=ue+u+e[fe+I],ne=n[Z],se=t[Z];ee*=ee,l=ee*ee*(ne*A+se*_)}let te=.5-Y*Y-ce*ce;if(te>=0){const Z=ue+1+e[fe+1],ne=n[Z],se=t[Z];te*=te,f=te*te*(ne*Y+se*ce)}return 70*(o+l+f)}}function ht(r){const n=new Uint8Array(512);for(let t=0;t<512/2;t++)n[t]=t;for(let t=0;t<512/2-1;t++){const s=t+~~(r()*(256-t)),a=n[t];n[t]=n[s],n[s]=a}for(let t=256;t<512;t++)n[t]=n[t-256];return n}const Se=(r=0,e=100)=>{const n=e-r;let t=Math.random();return t=t*n,t=t+r,t},Ie=(r=0,e=100,n=0,t=0,s=0)=>{const a=e-r;let o=(mt(()=>s)(n,t)+1)/2;return o=Math.floor(o*a),o=o+r,o},pt=()=>Math.random()>.5;function Ce(r,e,n){const t=r.slice();return t[4]=e[n],t[6]=n,t}function Be(r,e){let n,t,s,a,i,o;var l=e[0].itemComponent;function f(g){return{props:{picked:g[1].has(g[6])}}}l&&(t=x(l,f(e)));function c(){return e[3](e[6])}return{key:r,first:null,c(){n=B("div"),t&&G(t.$$.fragment),s=L(),this.h()},l(g){n=T(g,"DIV",{class:!0,style:!0});var d=V(n);t&&q(t.$$.fragment,d),s=J(d),d.forEach(p),this.h()},h(){N(n,"class","item-wrapper svelte-1qj3qn6"),k(n,"left",Ie(-20,100,e[6],0,Te)+"%"),k(n,"bottom","12%"),this.first=n},m(g,d){E(g,n,d),t&&z(t,n,null),C(n,s),a=!0,i||(o=ae(n,"click",c),i=!0)},p(g,d){e=g;const m={};if(d&3&&(m.picked=e[1].has(e[6])),l!==(l=e[0].itemComponent)){if(t){W();const h=t;w(h.$$.fragment,1,0,()=>{M(h,1)}),X()}l?(t=x(l,f(e)),G(t.$$.fragment),v(t.$$.fragment,1),z(t,n,s)):t=null}else l&&t.$set(m);(!a||d&1)&&k(n,"left",Ie(-20,100,e[6],0,Te)+"%")},i(g){a||(t&&v(t.$$.fragment,g),a=!0)},o(g){t&&w(t.$$.fragment,g),a=!1},d(g){g&&p(n),t&&M(t),i=!1,o()}}}function _t(r){let e,n=[],t=new Map,s,a=Array(r[0].totalItems);const i=o=>o[6];for(let o=0;o<a.length;o+=1){let l=Ce(r,a,o),f=i(l);t.set(f,n[o]=Be(f,l))}return{c(){e=B("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=T(o,"DIV",{class:!0});var l=V(e);for(let f=0;f<n.length;f+=1)n[f].l(l);l.forEach(p),this.h()},h(){N(e,"class","items-container svelte-1qj3qn6")},m(o,l){E(o,e,l);for(let f=0;f<n.length;f+=1)n[f].m(e,null);s=!0},p(o,l){l&7&&(a=Array(o[0].totalItems),W(),n=Je(n,l,i,1,o,a,t,e,Ze,Be,null,Ce),X())},i(o){if(!s){for(let l=0;l<a.length;l+=1)v(n[l]);s=!0}},o(o){for(let l=0;l<n.length;l+=1)w(n[l]);s=!1},d(o){o&&p(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function bt(r){let e,n;return e=new qe({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[1].size>=r[0].targetCount,bgImage:r[0].bgImage,progressNum:r[1].size,progressTotal:r[0].targetCount,$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,[s]){const a={};s&1&&(a.dialogs=t[0].dialogs),s&1&&(a.errorStep=t[0].errorStep),s&1&&(a.successStep=t[0].successStep),s&3&&(a.isValid=t[1].size>=t[0].targetCount),s&1&&(a.bgImage=t[0].bgImage),s&2&&(a.progressNum=t[1].size),s&1&&(a.progressTotal=t[0].targetCount),s&131&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}const Te=.34987;function kt(r,e,n){let{props:t}=e,s=new Set;const a=o=>{s.has(o)?s.delete(o):s.add(o),n(1,s)},i=o=>{a(o)};return r.$$set=o=>{"props"in o&&n(0,t=o.props)},r.$$.update=()=>{if(r.$$.dirty&1&&t.totalItems<t.targetCount)throw new Error("The target count must be less than the total items")},[t,s,a,i]}class vt extends F{constructor(e){super(),O(this,e,kt,bt,P,{props:0})}}function yt(r){let e,n;return{c(){e=B("div"),n=H("Unknown slide type")},l(t){e=T(t,"DIV",{});var s=V(e);n=K(s,"Unknown slide type"),s.forEach(p)},m(t,s){E(t,e,s),C(e,n)},p:D,i:D,o:D,d(t){t&&p(e)}}}function wt(r){let e,n;return e=new gt({props:{props:r[0]}}),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.props=t[0]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function St(r){let e,n;return e=new vt({props:{props:r[0]}}),{c(){G(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.props=t[0]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function It(r){let e,n,t,s;const a=[St,wt,yt],i=[];function o(l,f){return l[0].type==="pick-items"?0:l[0].type==="click-times"?1:2}return e=o(r),n=i[e]=a[e](r),{c(){n.c(),t=Q()},l(l){n.l(l),t=Q()},m(l,f){i[e].m(l,f),E(l,t,f),s=!0},p(l,[f]){let c=e;e=o(l),e===c?i[e].p(l,f):(W(),w(i[c],1,1,()=>{i[c]=null}),X(),n=i[e],n?n.p(l,f):(n=i[e]=a[e](l),n.c()),v(n,1),n.m(t.parentNode,t))},i(l){s||(v(n),s=!0)},o(l){w(n),s=!1},d(l){i[e].d(l),l&&p(t)}}}function Ct(r,e,n){let{props:t}=e;return r.$$set=s=>{"props"in s&&n(0,t=s.props)},[t]}class Bt extends F{constructor(e){super(),O(this,e,Ct,It,P,{props:0})}}function Ve(r){let e,n,t,s;return n=new Pe({props:{href:r[0],$$slots:{default:[Tt]},$$scope:{ctx:r}}}),{c(){e=B("div"),G(n.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=V(e);q(n.$$.fragment,i),i.forEach(p),this.h()},h(){N(e,"class","skip-button svelte-spxpjq")},m(a,i){E(a,e,i),z(n,e,null),s=!0},p(a,i){r=a;const o={};i&1&&(o.href=r[0]),i&128&&(o.$$scope={dirty:i,ctx:r}),n.$set(o)},i(a){s||(v(n.$$.fragment,a),t||oe(()=>{t=ge(e,Ae,{y:-20,easing:Qe,delay:2e3,duration:600}),t.start()}),s=!0)},o(a){w(n.$$.fragment,a),s=!1},d(a){a&&p(e),M(n)}}}function Tt(r){let e;return{c(){e=H("Skip")},l(n){e=K(n,"Skip")},m(n,t){E(n,e,t)},d(n){n&&p(e)}}}function Ne(r){let e,n,t,s,a;n=new Bt({props:{props:{...r[1],successStep:r[3]}}});let i=r[2]&&Ve(r);return{c(){e=B("div"),G(n.$$.fragment),t=L(),i&&i.c(),this.h()},l(o){e=T(o,"DIV",{class:!0});var l=V(e);q(n.$$.fragment,l),t=J(l),i&&i.l(l),l.forEach(p),this.h()},h(){N(e,"class","wrapper svelte-spxpjq")},m(o,l){E(o,e,l),z(n,e,null),C(e,t),i&&i.m(e,null),a=!0},p(o,l){const f={};l&10&&(f.props={...o[1],successStep:o[3]}),n.$set(f),o[2]?i?(i.p(o,l),l&4&&v(i,1)):(i=Ve(o),i.c(),v(i,1),i.m(e,null)):i&&(W(),w(i,1,1,()=>{i=null}),X())},i(o){a||(v(n.$$.fragment,o),v(i),s||oe(()=>{s=ge(e,xe,{duration:500}),s.start()}),a=!0)},o(o){w(n.$$.fragment,o),w(i),a=!1},d(o){o&&p(e),M(n),i&&i.d()}}}function Vt(r){let e=r[1],n,t,s=Ne(r);return{c(){s.c(),n=Q()},l(a){s.l(a),n=Q()},m(a,i){s.m(a,i),E(a,n,i),t=!0},p(a,[i]){i&2&&P(e,e=a[1])?(W(),w(s,1,1,D),X(),s=Ne(a),s.c(),v(s,1),s.m(n.parentNode,n)):s.p(a,i)},i(a){t||(v(s),t=!0)},o(a){w(s),t=!1},d(a){a&&p(n),s.d(a)}}}function Nt(r,e,n){let t,s,{slides:a}=e,{skipButtonUrl:i}=e,o=!1,l=0;const f=()=>{l<a.length-1&&n(5,l=l+1)};return le(()=>{n(2,o=!0)}),r.$$set=c=>{"slides"in c&&n(4,a=c.slides),"skipButtonUrl"in c&&n(0,i=c.skipButtonUrl)},r.$$.update=()=>{if(r.$$.dirty&16&&a.length===0)throw new Error("You must provide at least 1 slide option");if(r.$$.dirty&48&&n(1,t=a[l]),r.$$.dirty&2&&n(3,s=t.successStep),r.$$.dirty&2){const c=t.successStep.nextButton;n(3,s={...t.successStep,nextButton:{...t.successStep.nextButton,text:(c==null?void 0:c.text)||"Ok",action:()=>{var g;(g=c==null?void 0:c.action)==null||g.call(c),f()}}})}},[i,t,o,s,a,l]}class Et extends F{constructor(e){super(),O(this,e,Nt,Vt,P,{slides:4,skipButtonUrl:0})}}function Dt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(p),this.h()},h(){N(e,"class","wrapper svelte-pxcvxj"),k(e,"background-image","url("+r[1]+")"),R(e,"isIntersecting",r[0])},m(n,t){E(n,e,t)},p(n,[t]){t&1&&R(e,"isIntersecting",n[0])},i:D,o:D,d(n){n&&p(e)}}}function Gt(r,e,n){let{isIntersecting:t=!1}=e;const s=`${U}/img/sugar-cane-water/cleaver2.png`;return r.$$set=a=>{"isIntersecting"in a&&n(0,t=a.isIntersecting)},[t,s]}class Ee extends F{constructor(e){super(),O(this,e,Gt,Dt,P,{isIntersecting:0})}}function zt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(p),this.h()},h(){N(e,"class","wrapper svelte-133a6a0"),k(e,"filter","brightness("+r[0]+")"),k(e,"background-image","url("+r[1]+")")},m(n,t){E(n,e,t)},p(n,[t]){t&1&&k(e,"filter","brightness("+n[0]+")")},i:D,o:D,d(n){n&&p(e)}}}function Mt(r,e,n){let t,{progress:s=0}=e;const a=`${U}/img/sugar-cane-water/cut-cane.png`;return r.$$set=i=>{"progress"in i&&n(2,s=i.progress)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=je(s/3+.7,0,1))},[t,a,s]}class De extends F{constructor(e){super(),O(this,e,Mt,zt,P,{progress:2})}}function Pt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(p),this.h()},h(){N(e,"class","wrapper svelte-a5w0qk"),k(e,"background-image","url("+r[1]+")"),R(e,"isIntersecting",r[0])},m(n,t){E(n,e,t)},p(n,[t]){t&1&&R(e,"isIntersecting",n[0])},i:D,o:D,d(n){n&&p(e)}}}function At(r,e,n){let{isIntersecting:t=!1}=e;const s=`${U}/img/sugar-cane-water/scrub.png`;return r.$$set=a=>{"isIntersecting"in a&&n(0,t=a.isIntersecting)},[t,s]}class Ge extends F{constructor(e){super(),O(this,e,At,Pt,P,{isIntersecting:0})}}function jt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(p),this.h()},h(){N(e,"class","wrapper svelte-5gdabs"),k(e,"background-image","url("+r[2]+")"),k(e,"transform","rotate("+r[3]+"deg) scale("+r[1]+") scaleX("+r[4]+")"),R(e,"picked",r[0])},m(n,t){E(n,e,t)},p(n,[t]){t&2&&k(e,"transform","rotate("+n[3]+"deg) scale("+n[1]+") scaleX("+n[4]+")"),t&1&&R(e,"picked",n[0])},i:D,o:D,d(n){n&&p(e)}}}function qt(r,e,n){let t;const s=`${U}/img/sugar-cane-water/cane.png`;let{picked:a=!1}=e;const i=Se(-10,10),o=Se(1,1.4),l=pt()?1:-1;return r.$$set=f=>{"picked"in f&&n(0,a=f.picked)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=a?o*1.2:o)},[a,t,s,i,l]}class ze extends F{constructor(e){super(),O(this,e,qt,jt,P,{picked:0})}}function Ft(r){let e,n,t,s;return{c(){e=B("div"),n=B("div"),t=L(),s=B("div"),this.h()},l(a){e=T(a,"DIV",{class:!0});var i=V(e);n=T(i,"DIV",{class:!0,style:!0}),V(n).forEach(p),t=J(i),s=T(i,"DIV",{class:!0,style:!0}),V(s).forEach(p),i.forEach(p),this.h()},h(){N(n,"class","image svelte-107mlj7"),k(n,"background-image","url("+r[1]+")"),N(s,"class","image svelte-107mlj7"),k(s,"opacity",r[0]),k(s,"background-image","url("+r[2]+")"),N(e,"class","wrapper svelte-107mlj7")},m(a,i){E(a,e,i),C(e,n),C(e,t),C(e,s)},p(a,[i]){i&1&&k(s,"opacity",a[0])},i:D,o:D,d(a){a&&p(e)}}}function Ot(r,e,n){let{progress:t=0}=e;const s=`${U}/img/sugar-cane-water/washing-cane-clean.png`,a=`${U}/img/sugar-cane-water/washing-cane-dirty.png`;return r.$$set=i=>{"progress"in i&&n(0,t=i.progress)},[t,s,a]}class Me extends F{constructor(e){super(),O(this,e,Ot,Ft,P,{progress:0})}}function Rt(r){let e,n,t,s;return oe(r[2]),e=new Et({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:r[1]?3:8,itemComponent:ze,bgImage:`${U}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Let's do it"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${U}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:15,amount:25,duration:800,x:[-1,1],y:[-1,1]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Place the shaved stalks into a bucket of water and scratch away the remaining dirt from the stalks with steel wool.",nextButton:{text:"I will do it!"}}],errorStep:{characterName:"Grandpa",bodyText:"It's almost clean, please continue scrubbing!"},successStep:{characterName:"Grandpa",bodyText:"That looks nice and clean now",nextButton:{text:"What's next",href:"/sugar-cane-water"}},targetComponent:Me,dragComponent:Ge,targetClicks:5,bgImage:`${U}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#6A4E48"],rounded:!0,size:15,amount:25,duration:800,x:[-.25,.25],y:[-.75,0]}}]}}),{c(){G(e.$$.fragment)},l(a){q(e.$$.fragment,a)},m(a,i){z(e,a,i),n=!0,t||(s=ae(window,"resize",r[2]),t=!0)},p(a,[i]){const o={};i&2&&(o.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:a[1]?3:8,itemComponent:ze,bgImage:`${U}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Let's do it"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${U}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:15,amount:25,duration:800,x:[-1,1],y:[-1,1]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Place the shaved stalks into a bucket of water and scratch away the remaining dirt from the stalks with steel wool.",nextButton:{text:"I will do it!"}}],errorStep:{characterName:"Grandpa",bodyText:"It's almost clean, please continue scrubbing!"},successStep:{characterName:"Grandpa",bodyText:"That looks nice and clean now",nextButton:{text:"What's next",href:"/sugar-cane-water"}},targetComponent:Me,dragComponent:Ge,targetClicks:5,bgImage:`${U}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#6A4E48"],rounded:!0,size:15,amount:25,duration:800,x:[-.25,.25],y:[-.75,0]}}]),e.$set(o)},i(a){n||(v(e.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),n=!1},d(a){M(e,a),t=!1,s()}}}function Ut(r,e,n){let t,s=9999;function a(){n(0,s=window.innerWidth)}return r.$$.update=()=>{r.$$.dirty&1&&n(1,t=s<500)},[s,t,a]}class Kt extends F{constructor(e){super(),O(this,e,Ut,Rt,P,{})}}export{Kt as default};
