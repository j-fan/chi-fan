import{S as q,i as F,s as z,e as Q,b as G,B as E,h,o as le,k as C,l as B,m as T,n as V,C as O,U as Oe,p as b,g as W,t as w,d as X,f as v,q as H,a as L,r as K,c as J,D as N,u as oe,N as ie,V as ge,w as M,x as R,y as P,z as A,F as Re,H as We,I as Xe,J as Ye,v as x,O as He,M as ae,P as Ke,W as de,X as Le,Y as Je,Z as Ze,_ as Qe,$ as xe}from"../../../../chunks/index-a33fa324.js";import{b as D}from"../../../../chunks/paths-b4419565.js";import{B as je}from"../../../../chunks/Button-730b59c7.js";import{a as qe,b as $e,f as et}from"../../../../chunks/index-6188c6ed.js";function me(r,e,n){const t=r.slice();return t[18]=e[n],t}function he(r){let e,n={length:r[6]},t=[];for(let s=0;s<n.length;s+=1)t[s]=pe(me(r,n,s));return{c(){e=C("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=B(s,"DIV",{class:!0});var a=T(e);for(let o=0;o<t.length;o+=1)t[o].l(a);a.forEach(h),this.h()},h(){V(e,"class","confetti-holder svelte-io58ff"),O(e,"rounded",r[9]),O(e,"cone",r[10]),O(e,"no-gravity",r[11])},m(s,a){G(s,e,a);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(s,a){if(a&20991){n={length:s[6]};let o;for(o=0;o<n.length;o+=1){const i=me(s,n,o);t[o]?t[o].p(i,a):(t[o]=pe(i),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}a&512&&O(e,"rounded",s[9]),a&1024&&O(e,"cone",s[10]),a&2048&&O(e,"no-gravity",s[11])},d(s){s&&h(e),Oe(t,s)}}}function pe(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","confetti svelte-io58ff"),b(e,"--fall-distance",r[8]),b(e,"--size",r[0]+"px"),b(e,"--color",r[14]()),b(e,"--skew",U(-45,45)+"deg,"+U(-45,45)+"deg"),b(e,"--rotation-xyz",U(-10,10)+", "+U(-10,10)+", "+U(-10,10)),b(e,"--rotation-deg",U(0,360)+"deg"),b(e,"--translate-y-multiplier",U(r[2][0],r[2][1])),b(e,"--translate-x-multiplier",U(r[1][0],r[1][1])),b(e,"--scale",.1*U(2,10)),b(e,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),b(e,"--transition-delay",U(r[5][0],r[5][1])+"ms"),b(e,"--transition-iteration-count",r[4]?"infinite":r[7]),b(e,"--x-spread",1-r[12])},m(n,t){G(n,e,t)},p(n,t){t&256&&b(e,"--fall-distance",n[8]),t&1&&b(e,"--size",n[0]+"px"),t&4&&b(e,"--translate-y-multiplier",U(n[2][0],n[2][1])),t&2&&b(e,"--translate-x-multiplier",U(n[1][0],n[1][1])),t&24&&b(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),t&32&&b(e,"--transition-delay",U(n[5][0],n[5][1])+"ms"),t&144&&b(e,"--transition-iteration-count",n[4]?"infinite":n[7]),t&4096&&b(e,"--x-spread",1-n[12])},d(n){n&&h(e)}}}function tt(r){let e,n=!r[13]&&he(r);return{c(){n&&n.c(),e=Q()},l(t){n&&n.l(t),e=Q()},m(t,s){n&&n.m(t,s),G(t,e,s)},p(t,[s]){t[13]?n&&(n.d(1),n=null):n?n.p(t,s):(n=he(t),n.c(),n.m(e.parentNode,e))},i:E,o:E,d(t){n&&n.d(t),t&&h(e)}}}function U(r,e){return Math.random()*(e-r)+r}function nt(r,e,n){let{size:t=10}=e,{x:s=[-.5,.5]}=e,{y:a=[.25,1]}=e,{duration:o=2e3}=e,{infinite:i=!1}=e,{delay:l=[0,50]}=e,{colorRange:f=[0,360]}=e,{colorArray:c=[]}=e,{amount:g=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:p=!1}=e,{cone:k=!1}=e,{noGravity:S=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:u=!0}=e,I=!1;le(()=>{!u||i||d=="infinite"||setTimeout(()=>n(13,I=!0),(o+l[1])*d)});function j(){return c.length?c[Math.round(Math.random()*(c.length-1))]:`hsl(${Math.round(U(f[0],f[1]))}, 75%, 50%`}return r.$$set=_=>{"size"in _&&n(0,t=_.size),"x"in _&&n(1,s=_.x),"y"in _&&n(2,a=_.y),"duration"in _&&n(3,o=_.duration),"infinite"in _&&n(4,i=_.infinite),"delay"in _&&n(5,l=_.delay),"colorRange"in _&&n(15,f=_.colorRange),"colorArray"in _&&n(16,c=_.colorArray),"amount"in _&&n(6,g=_.amount),"iterationCount"in _&&n(7,d=_.iterationCount),"fallDistance"in _&&n(8,m=_.fallDistance),"rounded"in _&&n(9,p=_.rounded),"cone"in _&&n(10,k=_.cone),"noGravity"in _&&n(11,S=_.noGravity),"xSpread"in _&&n(12,y=_.xSpread),"destroyOnComplete"in _&&n(17,u=_.destroyOnComplete)},[t,s,a,o,i,l,g,d,m,p,k,S,y,I,j,f,c,u]}class st extends q{constructor(e){super(),F(this,e,nt,tt,z,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}const Fe=(r,e,n)=>Math.min(Math.max(r,e),n),rt=()=>{le(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function _e(r){let e,n;return e=new je({props:{href:r[0].nextButton.href,$$slots:{default:[at]},$$scope:{ctx:r}}}),e.$on("click",r[1]),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.href=t[0].nextButton.href),s&129&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function at(r){let e=r[0].nextButton.text+"",n;return{c(){n=H(e)},l(t){n=K(t,e)},m(t,s){G(t,n,s)},p(t,s){s&1&&e!==(e=t[0].nextButton.text+"")&&oe(n,e)},d(t){t&&h(n)}}}function be(r){let e,n,t=r[0].characterName+"",s,a,o,i=r[0].bodyText+"",l,f,c,g,d,m=r[0].nextButton&&_e(r);return{c(){e=C("div"),n=C("h3"),s=H(t),a=L(),o=C("p"),l=H(i),f=L(),c=C("div"),m&&m.c(),this.h()},l(p){e=B(p,"DIV",{class:!0});var k=T(e);n=B(k,"H3",{class:!0});var S=T(n);s=K(S,t),S.forEach(h),a=J(k),o=B(k,"P",{});var y=T(o);l=K(y,i),y.forEach(h),f=J(k),c=B(k,"DIV",{class:!0});var u=T(c);m&&m.l(u),u.forEach(h),k.forEach(h),this.h()},h(){V(n,"class","character-name svelte-vqtwd3"),V(c,"class","button-wrapper svelte-vqtwd3"),V(e,"class","dialog svelte-vqtwd3")},m(p,k){G(p,e,k),N(e,n),N(n,s),N(e,a),N(e,o),N(o,l),N(e,f),N(e,c),m&&m.m(c,null),d=!0},p(p,k){(!d||k&1)&&t!==(t=p[0].characterName+"")&&oe(s,t),(!d||k&1)&&i!==(i=p[0].bodyText+"")&&oe(l,i),p[0].nextButton?m?(m.p(p,k),k&1&&v(m,1)):(m=_e(p),m.c(),v(m,1),m.m(c,null)):m&&(W(),w(m,1,1,()=>{m=null}),X())},i(p){d||(v(m),g||ie(()=>{g=ge(e,qe,{y:20,duration:400}),g.start()}),d=!0)},o(p){w(m),d=!1},d(p){p&&h(e),m&&m.d()}}}function ot(r){let e,n=r[0],t,s=be(r);return{c(){e=C("div"),s.c(),this.h()},l(a){e=B(a,"DIV",{class:!0});var o=T(e);s.l(o),o.forEach(h),this.h()},h(){V(e,"class","float-bottom-wrapper svelte-vqtwd3")},m(a,o){G(a,e,o),s.m(e,null),t=!0},p(a,[o]){o&1&&z(n,n=a[0])?(W(),w(s,1,1,E),X(),s=be(a),s.c(),v(s,1),s.m(e,null)):s.p(a,o)},i(a){t||(v(s),t=!0)},o(a){w(s),t=!1},d(a){a&&h(e),s.d(a)}}}function it(r,e,n){let t,{dialogs:s}=e,{isValid:a}=e,{errorStep:o}=e,{successStep:i}=e,l=0;const f=()=>{var c,g,d;(c=t.nextButton)!=null&&c.href||((d=(g=t.nextButton)==null?void 0:g.action)==null||d.call(g),l<s.length-1?(n(6,l=l+1),n(0,t=s[l])):l===s.length-1&&n(6,l=l+1))};return r.$$set=c=>{"dialogs"in c&&n(2,s=c.dialogs),"isValid"in c&&n(3,a=c.isValid),"errorStep"in c&&n(4,o=c.errorStep),"successStep"in c&&n(5,i=c.successStep)},r.$$.update=()=>{if(r.$$.dirty&4&&s.length===0)throw new Error("You must provide at least 1 dialog option");r.$$.dirty&4&&n(0,t=s[0]),r.$$.dirty&124&&(l===s.length-1&&a&&n(0,t=i),l===s.length&&n(0,t=a?i:o))},[t,f,s,a,o,i,l]}class lt extends q{constructor(e){super(),F(this,e,it,ot,z,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function ct(r){let e,n,t,s,a,o,i,l,f,c,g;const d=r[8].default,m=Re(d,r,r[7],null);return c=new lt({props:{dialogs:r[0],isValid:r[1],errorStep:r[2],successStep:r[3]}}),{c(){e=C("div"),n=C("div"),t=C("p"),s=H("Progress: "),a=H(r[5]),o=H(" / "),i=H(r[6]),l=L(),m&&m.c(),f=L(),M(c.$$.fragment),this.h()},l(p){e=B(p,"DIV",{class:!0});var k=T(e);n=B(k,"DIV",{class:!0,style:!0});var S=T(n);t=B(S,"P",{class:!0});var y=T(t);s=K(y,"Progress: "),a=K(y,r[5]),o=K(y," / "),i=K(y,r[6]),y.forEach(h),l=J(S),m&&m.l(S),S.forEach(h),f=J(k),R(c.$$.fragment,k),k.forEach(h),this.h()},h(){V(t,"class","progress svelte-va0idu"),V(n,"class","slide-content svelte-va0idu"),b(n,"background-image","url("+r[4]+")"),V(e,"class","wrapper svelte-va0idu")},m(p,k){G(p,e,k),N(e,n),N(n,t),N(t,s),N(t,a),N(t,o),N(t,i),N(n,l),m&&m.m(n,null),N(e,f),P(c,e,null),g=!0},p(p,[k]){(!g||k&32)&&oe(a,p[5]),(!g||k&64)&&oe(i,p[6]),m&&m.p&&(!g||k&128)&&We(m,d,p,p[7],g?Ye(d,p[7],k,null):Xe(p[7]),null),(!g||k&16)&&b(n,"background-image","url("+p[4]+")");const S={};k&1&&(S.dialogs=p[0]),k&2&&(S.isValid=p[1]),k&4&&(S.errorStep=p[2]),k&8&&(S.successStep=p[3]),c.$set(S)},i(p){g||(v(m,p),v(c.$$.fragment,p),g=!0)},o(p){w(m,p),w(c.$$.fragment,p),g=!1},d(p){p&&h(e),m&&m.d(p),A(c)}}}function ut(r,e,n){let{$$slots:t={},$$scope:s}=e,{dialogs:a}=e,{isValid:o}=e,{errorStep:i}=e,{successStep:l}=e,{bgImage:f=void 0}=e,{progressNum:c}=e,{progressTotal:g}=e;return r.$$set=d=>{"dialogs"in d&&n(0,a=d.dialogs),"isValid"in d&&n(1,o=d.isValid),"errorStep"in d&&n(2,i=d.errorStep),"successStep"in d&&n(3,l=d.successStep),"bgImage"in d&&n(4,f=d.bgImage),"progressNum"in d&&n(5,c=d.progressNum),"progressTotal"in d&&n(6,g=d.progressTotal),"$$scope"in d&&n(7,s=d.$$scope)},[a,o,i,l,f,c,g,s,t]}class Ue extends q{constructor(e){super(),F(this,e,ut,ct,z,{dialogs:0,isValid:1,errorStep:2,successStep:3,bgImage:4,progressNum:5,progressTotal:6})}}function ke(r){let e,n;const t=[r[0].confettiProps];let s={};for(let a=0;a<t.length;a+=1)s=Le(s,t[a]);return e=new st({props:s}),{c(){M(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,o){P(e,a,o),n=!0},p(a,o){const i=o&1?Je(t,[Ze(a[0].confettiProps)]):{};e.$set(i)},i(a){n||(v(e.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),n=!1},d(a){A(e,a)}}}function ve(r){let e,n,t=r[8]>0&&ke(r);return{c(){t&&t.c(),e=Q()},l(s){t&&t.l(s),e=Q()},m(s,a){t&&t.m(s,a),G(s,e,a),n=!0},p(s,a){s[8]>0?t?(t.p(s,a),a&256&&v(t,1)):(t=ke(s),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(W(),w(t,1,1,()=>{t=null}),X())},i(s){n||(v(t),n=!0)},o(s){w(t),n=!1},d(s){t&&t.d(s),s&&h(e)}}}function ft(r){let e,n,t,s,a,o,i,l=r[8],f,c,g,d;var m=r[0].targetComponent;function p(u){return{props:{progress:u[8]/u[0].targetClicks}}}m&&(t=x(m,p(r)));var k=r[0].dragComponent;function S(u){return{props:{isIntersecting:u[7]}}}k&&(o=x(k,S(r)));let y=ve(r);return{c(){e=C("div"),n=C("div"),t&&M(t.$$.fragment),s=L(),a=C("div"),o&&M(o.$$.fragment),i=L(),y.c(),this.h()},l(u){e=B(u,"DIV",{class:!0});var I=T(e);n=B(I,"DIV",{class:!0});var j=T(n);t&&R(t.$$.fragment,j),s=J(j),a=B(j,"DIV",{class:!0,style:!0});var _=T(a);o&&R(o.$$.fragment,_),i=J(_),y.l(_),_.forEach(h),j.forEach(h),I.forEach(h),this.h()},h(){V(a,"class","follow-mouse svelte-1v7syx2"),b(a,"left",r[1]+"px"),b(a,"top",r[2]+"px"),ie(()=>r[11].call(a)),V(n,"class","target svelte-1v7syx2"),V(e,"class","centered svelte-1v7syx2")},m(u,I){G(u,e,I),N(e,n),t&&P(t,n,null),N(n,s),N(n,a),o&&P(o,a,null),N(a,i),y.m(a,null),f=He(a,r[11].bind(a)),r[12](a),r[13](n),c=!0,g||(d=[ae(e,"click",r[14]),ae(e,"mousemove",r[9]),ae(e,"touchmove",r[10])],g=!0)},p(u,I){const j={};if(I&257&&(j.progress=u[8]/u[0].targetClicks),m!==(m=u[0].targetComponent)){if(t){W();const Y=t;w(Y.$$.fragment,1,0,()=>{A(Y,1)}),X()}m?(t=x(m,p(u)),M(t.$$.fragment),v(t.$$.fragment,1),P(t,n,s)):t=null}else m&&t.$set(j);const _={};if(I&128&&(_.isIntersecting=u[7]),k!==(k=u[0].dragComponent)){if(o){W();const Y=o;w(Y.$$.fragment,1,0,()=>{A(Y,1)}),X()}k?(o=x(k,S(u)),M(o.$$.fragment),v(o.$$.fragment,1),P(o,a,i)):o=null}else k&&o.$set(_);I&256&&z(l,l=u[8])?(W(),w(y,1,1,E),X(),y=ve(u),y.c(),v(y,1),y.m(a,null)):y.p(u,I),(!c||I&2)&&b(a,"left",u[1]+"px"),(!c||I&4)&&b(a,"top",u[2]+"px")},i(u){c||(t&&v(t.$$.fragment,u),o&&v(o.$$.fragment,u),v(y),c=!0)},o(u){t&&w(t.$$.fragment,u),o&&w(o.$$.fragment,u),w(y),c=!1},d(u){u&&h(e),t&&A(t),o&&A(o),y.d(u),f(),r[12](null),r[13](null),g=!1,Ke(d)}}}function gt(r){let e,n;return e=new Ue({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[8]===r[0].targetClicks,bgImage:r[0].bgImage,progressNum:r[8],progressTotal:r[0].targetClicks,$$slots:{default:[ft]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,[s]){const a={};s&1&&(a.dialogs=t[0].dialogs),s&1&&(a.errorStep=t[0].errorStep),s&1&&(a.successStep=t[0].successStep),s&257&&(a.isValid=t[8]===t[0].targetClicks),s&1&&(a.bgImage=t[0].bgImage),s&256&&(a.progressNum=t[8]),s&1&&(a.progressTotal=t[0].targetClicks),s&33279&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function dt(r,e,n){let{props:t}=e,s=-200,a=-200,o=0,i=0,l,f,c=!1,g=0;const d=u=>{const I=l.getBoundingClientRect();n(1,s=u.clientX-I.x-o/2),n(2,a=u.clientY-I.y-i/2)},m=u=>{const I=l.getBoundingClientRect();n(1,s=u.changedTouches[0].clientX-I.x-o/2),n(2,a=u.changedTouches[0].clientY-I.y-i/2)};le(()=>{const u=j=>{j.forEach(_=>{n(7,c=_.isIntersecting)})},I=new IntersectionObserver(u,{root:l,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return I.observe(f),()=>{I.disconnect()}}),rt();function p(){o=this.clientWidth,i=this.clientHeight,n(3,o),n(4,i)}function k(u){de[u?"unshift":"push"](()=>{f=u,n(6,f)})}function S(u){de[u?"unshift":"push"](()=>{l=u,n(5,l)})}const y=()=>{c&&n(8,g=Fe(g+1,0,t.targetClicks))};return r.$$set=u=>{"props"in u&&n(0,t=u.props)},[t,s,a,o,i,l,f,c,g,d,m,p,k,S,y]}class mt extends q{constructor(e){super(),F(this,e,dt,gt,z,{props:0})}}const ht=.5*(Math.sqrt(3)-1),re=(3-Math.sqrt(3))/6,ye=r=>Math.floor(r)|0,we=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function pt(r=Math.random){const e=_t(r),n=new Float64Array(e).map(s=>we[s%12*2]),t=new Float64Array(e).map(s=>we[s%12*2+1]);return function(a,o){let i=0,l=0,f=0;const c=(a+o)*ht,g=ye(a+c),d=ye(o+c),m=(g+d)*re,p=g-m,k=d-m,S=a-p,y=o-k;let u,I;S>y?(u=1,I=0):(u=0,I=1);const j=S-u+re,_=y-I+re,Y=S-1+2*re,ce=y-1+2*re,ue=g&255,fe=d&255;let $=.5-S*S-y*y;if($>=0){const Z=ue+e[fe],ne=n[Z],se=t[Z];$*=$,i=$*$*(ne*S+se*y)}let ee=.5-j*j-_*_;if(ee>=0){const Z=ue+u+e[fe+I],ne=n[Z],se=t[Z];ee*=ee,l=ee*ee*(ne*j+se*_)}let te=.5-Y*Y-ce*ce;if(te>=0){const Z=ue+1+e[fe+1],ne=n[Z],se=t[Z];te*=te,f=te*te*(ne*Y+se*ce)}return 70*(i+l+f)}}function _t(r){const n=new Uint8Array(512);for(let t=0;t<512/2;t++)n[t]=t;for(let t=0;t<512/2-1;t++){const s=t+~~(r()*(256-t)),a=n[t];n[t]=n[s],n[s]=a}for(let t=256;t<512;t++)n[t]=n[t-256];return n}const Se=(r=0,e=100)=>{const n=e-r;let t=Math.random();return t=t*n,t=t+r,t},Ie=(r=0,e=100,n=0,t=0,s=0)=>{const a=e-r;let i=(pt(()=>s)(n,t)+1)/2;return i=Math.floor(i*a),i=i+r,i},bt=()=>Math.random()>.5;function Ce(r,e,n){const t=r.slice();return t[4]=e[n],t[6]=n,t}function Be(r,e){let n,t,s,a,o,i;var l=e[0].itemComponent;function f(g){return{props:{picked:g[1].has(g[6])}}}l&&(t=x(l,f(e)));function c(){return e[3](e[6])}return{key:r,first:null,c(){n=C("div"),t&&M(t.$$.fragment),s=L(),this.h()},l(g){n=B(g,"DIV",{class:!0,style:!0});var d=T(n);t&&R(t.$$.fragment,d),s=J(d),d.forEach(h),this.h()},h(){V(n,"class","item-wrapper svelte-1qj3qn6"),b(n,"left",Ie(-20,100,e[6],0,Te)+"%"),b(n,"bottom","12%"),this.first=n},m(g,d){G(g,n,d),t&&P(t,n,null),N(n,s),a=!0,o||(i=ae(n,"click",c),o=!0)},p(g,d){e=g;const m={};if(d&3&&(m.picked=e[1].has(e[6])),l!==(l=e[0].itemComponent)){if(t){W();const p=t;w(p.$$.fragment,1,0,()=>{A(p,1)}),X()}l?(t=x(l,f(e)),M(t.$$.fragment),v(t.$$.fragment,1),P(t,n,s)):t=null}else l&&t.$set(m);(!a||d&1)&&b(n,"left",Ie(-20,100,e[6],0,Te)+"%")},i(g){a||(t&&v(t.$$.fragment,g),a=!0)},o(g){t&&w(t.$$.fragment,g),a=!1},d(g){g&&h(n),t&&A(t),o=!1,i()}}}function kt(r){let e,n=[],t=new Map,s,a=Array(r[0].totalItems);const o=i=>i[6];for(let i=0;i<a.length;i+=1){let l=Ce(r,a,i),f=o(l);t.set(f,n[i]=Be(f,l))}return{c(){e=C("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=B(i,"DIV",{class:!0});var l=T(e);for(let f=0;f<n.length;f+=1)n[f].l(l);l.forEach(h),this.h()},h(){V(e,"class","items-container svelte-1qj3qn6")},m(i,l){G(i,e,l);for(let f=0;f<n.length;f+=1)n[f].m(e,null);s=!0},p(i,l){l&7&&(a=Array(i[0].totalItems),W(),n=Qe(n,l,o,1,i,a,t,e,xe,Be,null,Ce),X())},i(i){if(!s){for(let l=0;l<a.length;l+=1)v(n[l]);s=!0}},o(i){for(let l=0;l<n.length;l+=1)w(n[l]);s=!1},d(i){i&&h(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function vt(r){let e,n;return e=new Ue({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[1].size>=r[0].targetCount,bgImage:r[0].bgImage,progressNum:r[1].size,progressTotal:r[0].targetCount,$$slots:{default:[kt]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,[s]){const a={};s&1&&(a.dialogs=t[0].dialogs),s&1&&(a.errorStep=t[0].errorStep),s&1&&(a.successStep=t[0].successStep),s&3&&(a.isValid=t[1].size>=t[0].targetCount),s&1&&(a.bgImage=t[0].bgImage),s&2&&(a.progressNum=t[1].size),s&1&&(a.progressTotal=t[0].targetCount),s&131&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}const Te=.34987;function yt(r,e,n){let{props:t}=e,s=new Set;const a=i=>{s.has(i)?s.delete(i):s.add(i),n(1,s)},o=i=>{a(i)};return r.$$set=i=>{"props"in i&&n(0,t=i.props)},r.$$.update=()=>{if(r.$$.dirty&1&&t.totalItems<t.targetCount)throw new Error("The target count must be less than the total items")},[t,s,a,o]}class wt extends q{constructor(e){super(),F(this,e,yt,vt,z,{props:0})}}function St(r){let e,n;return{c(){e=C("div"),n=H("Unknown slide type")},l(t){e=B(t,"DIV",{});var s=T(e);n=K(s,"Unknown slide type"),s.forEach(h)},m(t,s){G(t,e,s),N(e,n)},p:E,i:E,o:E,d(t){t&&h(e)}}}function It(r){let e,n;return e=new mt({props:{props:r[0]}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.props=t[0]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Ct(r){let e,n;return e=new wt({props:{props:r[0]}}),{c(){M(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const a={};s&1&&(a.props=t[0]),e.$set(a)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Bt(r){let e,n,t,s;const a=[Ct,It,St],o=[];function i(l,f){return l[0].type==="pick-items"?0:l[0].type==="click-times"?1:2}return e=i(r),n=o[e]=a[e](r),{c(){n.c(),t=Q()},l(l){n.l(l),t=Q()},m(l,f){o[e].m(l,f),G(l,t,f),s=!0},p(l,[f]){let c=e;e=i(l),e===c?o[e].p(l,f):(W(),w(o[c],1,1,()=>{o[c]=null}),X(),n=o[e],n?n.p(l,f):(n=o[e]=a[e](l),n.c()),v(n,1),n.m(t.parentNode,t))},i(l){s||(v(n),s=!0)},o(l){w(n),s=!1},d(l){o[e].d(l),l&&h(t)}}}function Tt(r,e,n){let{props:t}=e;return r.$$set=s=>{"props"in s&&n(0,t=s.props)},[t]}class Nt extends q{constructor(e){super(),F(this,e,Tt,Bt,z,{props:0})}}function Ne(r){let e,n,t,s;return n=new je({props:{href:r[0],$$slots:{default:[Vt]},$$scope:{ctx:r}}}),{c(){e=C("div"),M(n.$$.fragment),this.h()},l(a){e=B(a,"DIV",{class:!0});var o=T(e);R(n.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","skip-button svelte-spxpjq")},m(a,o){G(a,e,o),P(n,e,null),s=!0},p(a,o){r=a;const i={};o&1&&(i.href=r[0]),o&128&&(i.$$scope={dirty:o,ctx:r}),n.$set(i)},i(a){s||(v(n.$$.fragment,a),t||ie(()=>{t=ge(e,qe,{y:-20,easing:$e,delay:2e3,duration:600}),t.start()}),s=!0)},o(a){w(n.$$.fragment,a),s=!1},d(a){a&&h(e),A(n)}}}function Vt(r){let e;return{c(){e=H("Skip")},l(n){e=K(n,"Skip")},m(n,t){G(n,e,t)},d(n){n&&h(e)}}}function Ve(r){let e,n,t,s,a;n=new Nt({props:{props:{...r[1],successStep:r[3]}}});let o=r[2]&&Ne(r);return{c(){e=C("div"),M(n.$$.fragment),t=L(),o&&o.c(),this.h()},l(i){e=B(i,"DIV",{class:!0});var l=T(e);R(n.$$.fragment,l),t=J(l),o&&o.l(l),l.forEach(h),this.h()},h(){V(e,"class","wrapper svelte-spxpjq")},m(i,l){G(i,e,l),P(n,e,null),N(e,t),o&&o.m(e,null),a=!0},p(i,l){const f={};l&10&&(f.props={...i[1],successStep:i[3]}),n.$set(f),i[2]?o?(o.p(i,l),l&4&&v(o,1)):(o=Ne(i),o.c(),v(o,1),o.m(e,null)):o&&(W(),w(o,1,1,()=>{o=null}),X())},i(i){a||(v(n.$$.fragment,i),v(o),s||ie(()=>{s=ge(e,et,{duration:500}),s.start()}),a=!0)},o(i){w(n.$$.fragment,i),w(o),a=!1},d(i){i&&h(e),A(n),o&&o.d()}}}function Gt(r){let e=r[1],n,t,s=Ve(r);return{c(){s.c(),n=Q()},l(a){s.l(a),n=Q()},m(a,o){s.m(a,o),G(a,n,o),t=!0},p(a,[o]){o&2&&z(e,e=a[1])?(W(),w(s,1,1,E),X(),s=Ve(a),s.c(),v(s,1),s.m(n.parentNode,n)):s.p(a,o)},i(a){t||(v(s),t=!0)},o(a){w(s),t=!1},d(a){a&&h(n),s.d(a)}}}function Et(r,e,n){let t,s,{slides:a}=e,{skipButtonUrl:o}=e,i=!1,l=0;const f=()=>{l<a.length-1&&n(5,l=l+1)};return le(()=>{n(2,i=!0)}),r.$$set=c=>{"slides"in c&&n(4,a=c.slides),"skipButtonUrl"in c&&n(0,o=c.skipButtonUrl)},r.$$.update=()=>{if(r.$$.dirty&16&&a.length===0)throw new Error("You must provide at least 1 slide option");if(r.$$.dirty&48&&n(1,t=a[l]),r.$$.dirty&2&&n(3,s=t.successStep),r.$$.dirty&2){const c=t.successStep.nextButton;n(3,s={...t.successStep,nextButton:{...t.successStep.nextButton,text:(c==null?void 0:c.text)||"Ok",action:()=>{var g;(g=c==null?void 0:c.action)==null||g.call(c),f()}}})}},[o,t,i,s,a,l]}class Dt extends q{constructor(e){super(),F(this,e,Et,Gt,z,{slides:4,skipButtonUrl:0})}}function zt(r){let e,n;return{c(){e=C("div"),n=C("div"),this.h()},l(t){e=B(t,"DIV",{class:!0});var s=T(e);n=B(s,"DIV",{class:!0,style:!0}),T(n).forEach(h),s.forEach(h),this.h()},h(){V(n,"class","image svelte-1tt1a32"),b(n,"background-image",`url(${D}/img/sugar-cane-water/cutting-cane-${r[0]}.png)`),V(e,"class","wrapper svelte-1tt1a32")},m(t,s){G(t,e,s),N(e,n)},p(t,[s]){s&1&&b(n,"background-image",`url(${D}/img/sugar-cane-water/cutting-cane-${t[0]}.png)`)},i:E,o:E,d(t){t&&h(e)}}}function Mt(r,e,n){let t,{progress:s=0}=e;return r.$$set=a=>{"progress"in a&&n(1,s=a.progress)},r.$$.update=()=>{r.$$.dirty&2&&n(0,t=Math.floor(s/.33)+1)},[t,s]}class Ge extends q{constructor(e){super(),F(this,e,Mt,zt,z,{progress:1})}}function Pt(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","wrapper svelte-pxcvxj"),b(e,"background-image","url("+r[1]+")"),O(e,"isIntersecting",r[0])},m(n,t){G(n,e,t)},p(n,[t]){t&1&&O(e,"isIntersecting",n[0])},i:E,o:E,d(n){n&&h(e)}}}function At(r,e,n){let{isIntersecting:t=!1}=e;const s=`${D}/img/sugar-cane-water/cleaver2.png`;return r.$$set=a=>{"isIntersecting"in a&&n(0,t=a.isIntersecting)},[t,s]}class Ee extends q{constructor(e){super(),F(this,e,At,Pt,z,{isIntersecting:0})}}function jt(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","wrapper svelte-133a6a0"),b(e,"filter","brightness("+r[0]+")"),b(e,"background-image","url("+r[1]+")")},m(n,t){G(n,e,t)},p(n,[t]){t&1&&b(e,"filter","brightness("+n[0]+")")},i:E,o:E,d(n){n&&h(e)}}}function qt(r,e,n){let t,{progress:s=0}=e;const a=`${D}/img/sugar-cane-water/cut-cane.png`;return r.$$set=o=>{"progress"in o&&n(2,s=o.progress)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=Fe(s/3+.7,0,1))},[t,a,s]}class De extends q{constructor(e){super(),F(this,e,qt,jt,z,{progress:2})}}function Ft(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","wrapper svelte-ckpx6t"),b(e,"background-image","url("+r[1]+")"),O(e,"isIntersecting",r[0])},m(n,t){G(n,e,t)},p(n,[t]){t&1&&O(e,"isIntersecting",n[0])},i:E,o:E,d(n){n&&h(e)}}}function Ut(r,e,n){let{isIntersecting:t=!1}=e;const s=`${D}/img/sugar-cane-water/scrub.png`;return r.$$set=a=>{"isIntersecting"in a&&n(0,t=a.isIntersecting)},[t,s]}class ze extends q{constructor(e){super(),F(this,e,Ut,Ft,z,{isIntersecting:0})}}function Ot(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","wrapper svelte-1t73ak8"),b(e,"--open-shears","url("+r[1]+")"),b(e,"--closed-shears","url("+r[2]+")"),O(e,"isIntersecting",r[0])},m(n,t){G(n,e,t)},p(n,[t]){t&1&&O(e,"isIntersecting",n[0])},i:E,o:E,d(n){n&&h(e)}}}function Rt(r,e,n){let{isIntersecting:t=!1}=e;const s=`${D}/img/sugar-cane-water/clippers.png`,a=`${D}/img/sugar-cane-water/clippers-closed.png`;return r.$$set=o=>{"isIntersecting"in o&&n(0,t=o.isIntersecting)},[t,s,a]}class Me extends q{constructor(e){super(),F(this,e,Rt,Ot,z,{isIntersecting:0})}}function Wt(r){let e;return{c(){e=C("div"),this.h()},l(n){e=B(n,"DIV",{class:!0,style:!0}),T(e).forEach(h),this.h()},h(){V(e,"class","wrapper svelte-5gdabs"),b(e,"background-image","url("+r[2]+")"),b(e,"transform","rotate("+r[3]+"deg) scale("+r[1]+") scaleX("+r[4]+")"),O(e,"picked",r[0])},m(n,t){G(n,e,t)},p(n,[t]){t&2&&b(e,"transform","rotate("+n[3]+"deg) scale("+n[1]+") scaleX("+n[4]+")"),t&1&&O(e,"picked",n[0])},i:E,o:E,d(n){n&&h(e)}}}function Xt(r,e,n){let t;const s=`${D}/img/sugar-cane-water/cane.png`;let{picked:a=!1}=e;const o=Se(-10,10),i=Se(1,1.4),l=bt()?1:-1;return r.$$set=f=>{"picked"in f&&n(0,a=f.picked)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=a?i*1.2:i)},[a,t,s,o,l]}class Pe extends q{constructor(e){super(),F(this,e,Xt,Wt,z,{picked:0})}}function Yt(r){let e,n,t,s;return{c(){e=C("div"),n=C("div"),t=L(),s=C("div"),this.h()},l(a){e=B(a,"DIV",{class:!0});var o=T(e);n=B(o,"DIV",{class:!0,style:!0}),T(n).forEach(h),t=J(o),s=B(o,"DIV",{class:!0,style:!0}),T(s).forEach(h),o.forEach(h),this.h()},h(){V(n,"class","image svelte-107mlj7"),b(n,"background-image","url("+r[1]+")"),V(s,"class","image svelte-107mlj7"),b(s,"opacity",r[0]),b(s,"background-image","url("+r[2]+")"),V(e,"class","wrapper svelte-107mlj7")},m(a,o){G(a,e,o),N(e,n),N(e,t),N(e,s)},p(a,[o]){o&1&&b(s,"opacity",a[0])},i:E,o:E,d(a){a&&h(e)}}}function Ht(r,e,n){let{progress:t=0}=e;const s=`${D}/img/sugar-cane-water/washing-cane-clean.png`,a=`${D}/img/sugar-cane-water/washing-cane-dirty.png`;return r.$$set=o=>{"progress"in o&&n(0,t=o.progress)},[t,s,a]}class Ae extends q{constructor(e){super(),F(this,e,Ht,Yt,z,{progress:0})}}function Kt(r){let e,n,t,s;return ie(r[2]),e=new Dt({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:r[1]?3:8,itemComponent:Pe,bgImage:`${D}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Let's do it"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:15,amount:25,duration:800,x:[-1,1],y:[-1,1]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Place the shaved stalks into a bucket of water and scratch away the remaining dirt from the stalks with steel wool.",nextButton:{text:"I will do it!"}}],errorStep:{characterName:"Grandpa",bodyText:"It's almost clean, please continue scrubbing!"},successStep:{characterName:"Grandpa",bodyText:"That looks nice and clean now",nextButton:{text:"What's next"}},targetComponent:Ae,dragComponent:ze,targetClicks:5,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#6A4E48"],rounded:!0,size:15,amount:25,duration:800,x:[-.25,.25],y:[-.75,0]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use the hedge shears to trim the sugar cane into 15cm lengths",nextButton:{text:"Got it"}}],errorStep:{characterName:"Grandpa",bodyText:"The pieces need to be a little smaller"},successStep:{characterName:"Grandpa",bodyText:"Good job, those pieces look small enough",nextButton:{text:"What's next",href:"/sugar-cane-water"}},targetComponent:Ge,dragComponent:Me,targetClicks:3,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:20,amount:10,duration:800,x:[-1,1],y:[-1,1]}}]}}),{c(){M(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,o){P(e,a,o),n=!0,t||(s=ae(window,"resize",r[2]),t=!0)},p(a,[o]){const i={};o&2&&(i.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:a[1]?3:8,itemComponent:Pe,bgImage:`${D}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Let's do it"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:15,amount:25,duration:800,x:[-1,1],y:[-1,1]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Place the shaved stalks into a bucket of water and scratch away the remaining dirt from the stalks with steel wool.",nextButton:{text:"I will do it!"}}],errorStep:{characterName:"Grandpa",bodyText:"It's almost clean, please continue scrubbing!"},successStep:{characterName:"Grandpa",bodyText:"That looks nice and clean now",nextButton:{text:"What's next"}},targetComponent:Ae,dragComponent:ze,targetClicks:5,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#6A4E48"],rounded:!0,size:15,amount:25,duration:800,x:[-.25,.25],y:[-.75,0]}},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use the hedge shears to trim the sugar cane into 15cm lengths",nextButton:{text:"Got it"}}],errorStep:{characterName:"Grandpa",bodyText:"The pieces need to be a little smaller"},successStep:{characterName:"Grandpa",bodyText:"Good job, those pieces look small enough",nextButton:{text:"What's next",href:"/sugar-cane-water"}},targetComponent:Ge,dragComponent:Me,targetClicks:3,bgImage:`${D}/img/sugar-cane-water/canes-background.png`,confettiProps:{colorArray:["#B6C48F","#627620"],size:20,amount:10,duration:800,x:[-1,1],y:[-1,1]}}]),e.$set(i)},i(a){n||(v(e.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),n=!1},d(a){A(e,a),t=!1,s()}}}function Lt(r,e,n){let t,s=9999;function a(){n(0,s=window.innerWidth)}return r.$$.update=()=>{r.$$.dirty&1&&n(1,t=s<500)},[s,t,a]}class $t extends q{constructor(e){super(),F(this,e,Lt,Kt,z,{})}}export{$t as default};
