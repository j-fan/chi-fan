import{o as ce,S as z,i as j,s as q,k as I,l as $,m as B,h,n as C,b as V,g as O,t as w,A as M,d as A,f as b,q as P,a as W,r as U,c as X,C as S,u as te,M as se,U as ue,v as N,w as G,x as E,y as D,E as Ne,p as T,G as Ee,H as De,I as Ge,N as qe,L as ee,O as Me,V as fe,W as ze,X as je,e as ne,B as re}from"../../../../chunks/index-eecdb0a3.js";import{b as R}from"../../../../chunks/paths-d2a11cad.js";import{B as Be}from"../../../../chunks/Button-9de61417.js";import{a as Ce,b as Pe,f as Ue}from"../../../../chunks/index-9f715646.js";const Te=(n,t,s)=>Math.min(Math.max(n,t),s),Oe=()=>{ce(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function ge(n){let t,s;return t=new Be({props:{href:n[0].nextButton.href,$$slots:{default:[Ae]},$$scope:{ctx:n}}}),t.$on("click",n[1]),{c(){N(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){E(t,e,r),s=!0},p(e,r){const o={};r&1&&(o.href=e[0].nextButton.href),r&129&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){s||(b(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function Ae(n){let t=n[0].nextButton.text+"",s;return{c(){s=P(t)},l(e){s=U(e,t)},m(e,r){V(e,s,r)},p(e,r){r&1&&t!==(t=e[0].nextButton.text+"")&&te(s,t)},d(e){e&&h(s)}}}function de(n){let t,s,e=n[0].characterName+"",r,o,a,l=n[0].bodyText+"",i,g,u,f,p,d=n[0].nextButton&&ge(n);return{c(){t=I("div"),s=I("h3"),r=P(e),o=W(),a=I("p"),i=P(l),g=W(),u=I("div"),d&&d.c(),this.h()},l(m){t=$(m,"DIV",{class:!0});var c=B(t);s=$(c,"H3",{class:!0});var _=B(s);r=U(_,e),_.forEach(h),o=X(c),a=$(c,"P",{});var v=B(a);i=U(v,l),v.forEach(h),g=X(c),u=$(c,"DIV",{class:!0});var k=B(u);d&&d.l(k),k.forEach(h),c.forEach(h),this.h()},h(){C(s,"class","character-name svelte-1oqaosq"),C(u,"class","button-wrapper svelte-1oqaosq"),C(t,"class","dialog svelte-1oqaosq")},m(m,c){V(m,t,c),S(t,s),S(s,r),S(t,o),S(t,a),S(a,i),S(t,g),S(t,u),d&&d.m(u,null),p=!0},p(m,c){(!p||c&1)&&e!==(e=m[0].characterName+"")&&te(r,e),(!p||c&1)&&l!==(l=m[0].bodyText+"")&&te(i,l),m[0].nextButton?d?(d.p(m,c),c&1&&b(d,1)):(d=ge(m),d.c(),b(d,1),d.m(u,null)):d&&(O(),w(d,1,1,()=>{d=null}),A())},i(m){p||(b(d),f||se(()=>{f=ue(t,Ce,{y:20,duration:400}),f.start()}),p=!0)},o(m){w(d),p=!1},d(m){m&&h(t),d&&d.d()}}}function Fe(n){let t,s=n[0],e,r=de(n);return{c(){t=I("div"),r.c(),this.h()},l(o){t=$(o,"DIV",{class:!0});var a=B(t);r.l(a),a.forEach(h),this.h()},h(){C(t,"class","float-bottom-wrapper svelte-1oqaosq")},m(o,a){V(o,t,a),r.m(t,null),e=!0},p(o,[a]){a&1&&q(s,s=o[0])?(O(),w(r,1,1,M),A(),r=de(o),r.c(),b(r,1),r.m(t,null)):r.p(o,a)},i(o){e||(b(r),e=!0)},o(o){w(r),e=!1},d(o){o&&h(t),r.d(o)}}}function Re(n,t,s){let e,{dialogs:r}=t,{isValid:o}=t,{errorStep:a}=t,{successStep:l}=t,i=0;const g=()=>{var u,f,p;(u=e.nextButton)!=null&&u.href||((p=(f=e.nextButton)==null?void 0:f.action)==null||p.call(f),i<r.length-1?(s(6,i=i+1),s(0,e=r[i])):i===r.length-1&&s(6,i=i+1))};return n.$$set=u=>{"dialogs"in u&&s(2,r=u.dialogs),"isValid"in u&&s(3,o=u.isValid),"errorStep"in u&&s(4,a=u.errorStep),"successStep"in u&&s(5,l=u.successStep)},n.$$.update=()=>{if(n.$$.dirty&4&&r.length===0)throw new Error("You must provide at least 1 dialog option");n.$$.dirty&4&&s(0,e=r[0]),n.$$.dirty&124&&(i===r.length-1&&o&&s(0,e=l),i===r.length&&s(0,e=o?l:a))},[e,g,r,o,a,l,i]}class We extends z{constructor(t){super(),j(this,t,Re,Fe,q,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function Xe(n){let t,s,e,r,o,a,l,i,g,u,f;const p=n[8].default,d=Ne(p,n,n[7],null);return u=new We({props:{dialogs:n[0],isValid:n[1],errorStep:n[2],successStep:n[3]}}),{c(){t=I("div"),s=I("div"),e=I("p"),r=P("Progress: "),o=P(n[5]),a=P(" / "),l=P(n[6]),i=W(),d&&d.c(),g=W(),N(u.$$.fragment),this.h()},l(m){t=$(m,"DIV",{class:!0});var c=B(t);s=$(c,"DIV",{class:!0,style:!0});var _=B(s);e=$(_,"P",{class:!0});var v=B(e);r=U(v,"Progress: "),o=U(v,n[5]),a=U(v," / "),l=U(v,n[6]),v.forEach(h),i=X(_),d&&d.l(_),_.forEach(h),g=X(c),G(u.$$.fragment,c),c.forEach(h),this.h()},h(){C(e,"class","progress svelte-va0idu"),C(s,"class","slide-content svelte-va0idu"),T(s,"background-image","url("+n[4]+")"),C(t,"class","wrapper svelte-va0idu")},m(m,c){V(m,t,c),S(t,s),S(s,e),S(e,r),S(e,o),S(e,a),S(e,l),S(s,i),d&&d.m(s,null),S(t,g),E(u,t,null),f=!0},p(m,[c]){(!f||c&32)&&te(o,m[5]),(!f||c&64)&&te(l,m[6]),d&&d.p&&(!f||c&128)&&Ee(d,p,m,m[7],f?Ge(p,m[7],c,null):De(m[7]),null),(!f||c&16)&&T(s,"background-image","url("+m[4]+")");const _={};c&1&&(_.dialogs=m[0]),c&2&&(_.isValid=m[1]),c&4&&(_.errorStep=m[2]),c&8&&(_.successStep=m[3]),u.$set(_)},i(m){f||(b(d,m),b(u.$$.fragment,m),f=!0)},o(m){w(d,m),w(u.$$.fragment,m),f=!1},d(m){m&&h(t),d&&d.d(m),D(u)}}}function He(n,t,s){let{$$slots:e={},$$scope:r}=t,{dialogs:o}=t,{isValid:a}=t,{errorStep:l}=t,{successStep:i}=t,{bgImage:g=void 0}=t,{progressNum:u}=t,{progressTotal:f}=t;return n.$$set=p=>{"dialogs"in p&&s(0,o=p.dialogs),"isValid"in p&&s(1,a=p.isValid),"errorStep"in p&&s(2,l=p.errorStep),"successStep"in p&&s(3,i=p.successStep),"bgImage"in p&&s(4,g=p.bgImage),"progressNum"in p&&s(5,u=p.progressNum),"progressTotal"in p&&s(6,f=p.progressTotal),"$$scope"in p&&s(7,r=p.$$scope)},[o,a,l,i,g,u,f,r,e]}class Ve extends z{constructor(t){super(),j(this,t,He,Xe,q,{dialogs:0,isValid:1,errorStep:2,successStep:3,bgImage:4,progressNum:5,progressTotal:6})}}function Ke(n){let t,s,e,r,o,a,l,i,g,u;var f=n[0].targetComponent;function p(c){return{props:{progress:c[8]/c[0].targetClicks}}}f&&(e=new f(p(n)));var d=n[0].dragComponent;function m(c){return{props:{isIntersecting:c[7]}}}return d&&(a=new d(m(n))),{c(){t=I("div"),s=I("div"),e&&N(e.$$.fragment),r=W(),o=I("div"),a&&N(a.$$.fragment),this.h()},l(c){t=$(c,"DIV",{class:!0});var _=B(t);s=$(_,"DIV",{class:!0});var v=B(s);e&&G(e.$$.fragment,v),r=X(v),o=$(v,"DIV",{class:!0,style:!0});var k=B(o);a&&G(a.$$.fragment,k),k.forEach(h),v.forEach(h),_.forEach(h),this.h()},h(){C(o,"class","follow-mouse svelte-ucousf"),T(o,"left",n[1]+"px"),T(o,"top",n[2]+"px"),se(()=>n[11].call(o)),C(s,"class","target svelte-ucousf"),C(t,"class","centered svelte-ucousf")},m(c,_){V(c,t,_),S(t,s),e&&E(e,s,null),S(s,r),S(s,o),a&&E(a,o,null),l=qe(o,n[11].bind(o)),n[12](o),n[13](s),i=!0,g||(u=[ee(t,"click",n[14]),ee(t,"mousemove",n[9]),ee(t,"touchmove",n[10])],g=!0)},p(c,_){const v={};if(_&257&&(v.progress=c[8]/c[0].targetClicks),f!==(f=c[0].targetComponent)){if(e){O();const y=e;w(y.$$.fragment,1,0,()=>{D(y,1)}),A()}f?(e=new f(p(c)),N(e.$$.fragment),b(e.$$.fragment,1),E(e,s,r)):e=null}else f&&e.$set(v);const k={};if(_&128&&(k.isIntersecting=c[7]),d!==(d=c[0].dragComponent)){if(a){O();const y=a;w(y.$$.fragment,1,0,()=>{D(y,1)}),A()}d?(a=new d(m(c)),N(a.$$.fragment),b(a.$$.fragment,1),E(a,o,null)):a=null}else d&&a.$set(k);(!i||_&2)&&T(o,"left",c[1]+"px"),(!i||_&4)&&T(o,"top",c[2]+"px")},i(c){i||(e&&b(e.$$.fragment,c),a&&b(a.$$.fragment,c),i=!0)},o(c){e&&w(e.$$.fragment,c),a&&w(a.$$.fragment,c),i=!1},d(c){c&&h(t),e&&D(e),a&&D(a),l(),n[12](null),n[13](null),g=!1,Me(u)}}}function Ye(n){let t,s;return t=new Ve({props:{dialogs:n[0].dialogs,errorStep:n[0].errorStep,successStep:n[0].successStep,isValid:n[8]===n[0].targetClicks,bgImage:n[0].bgImage,progressNum:n[8],progressTotal:n[0].targetClicks,$$slots:{default:[Ke]},$$scope:{ctx:n}}}),{c(){N(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){E(t,e,r),s=!0},p(e,[r]){const o={};r&1&&(o.dialogs=e[0].dialogs),r&1&&(o.errorStep=e[0].errorStep),r&1&&(o.successStep=e[0].successStep),r&257&&(o.isValid=e[8]===e[0].targetClicks),r&1&&(o.bgImage=e[0].bgImage),r&256&&(o.progressNum=e[8]),r&1&&(o.progressTotal=e[0].targetClicks),r&33279&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){s||(b(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function Le(n,t,s){let{props:e}=t,r=-200,o=-200,a=0,l=0,i,g,u=!1,f=0;const p=k=>{const y=i.getBoundingClientRect();s(1,r=k.clientX-y.x-a/2),s(2,o=k.clientY-y.y-l/2)},d=k=>{const y=i.getBoundingClientRect();s(1,r=k.changedTouches[0].clientX-y.x-a/2),s(2,o=k.changedTouches[0].clientY-y.y-l/2)};ce(()=>{const k=H=>{H.forEach(K=>{s(7,u=K.isIntersecting)})},y=new IntersectionObserver(k,{root:i,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return y.observe(g),()=>{y.disconnect()}}),Oe();function m(){a=this.clientWidth,l=this.clientHeight,s(3,a),s(4,l)}function c(k){fe[k?"unshift":"push"](()=>{g=k,s(6,g)})}function _(k){fe[k?"unshift":"push"](()=>{i=k,s(5,i)})}const v=()=>{s(8,f=Te(f+1,0,e.targetClicks))};return n.$$set=k=>{"props"in k&&s(0,e=k.props)},[e,r,o,a,l,i,g,u,f,p,d,m,c,_,v]}class Je extends z{constructor(t){super(),j(this,t,Le,Ye,q,{props:0})}}const Qe=.5*(Math.sqrt(3)-1),x=(3-Math.sqrt(3))/6,pe=n=>Math.floor(n)|0,me=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function Ze(n=Math.random){const t=xe(n),s=new Float64Array(t).map(r=>me[r%12*2]),e=new Float64Array(t).map(r=>me[r%12*2+1]);return function(o,a){let l=0,i=0,g=0;const u=(o+a)*Qe,f=pe(o+u),p=pe(a+u),d=(f+p)*x,m=f-d,c=p-d,_=o-m,v=a-c;let k,y;_>v?(k=1,y=0):(k=0,y=1);const H=_-k+x,K=v-y+x,oe=_-1+2*x,ae=v-1+2*x,ie=f&255,le=p&255;let Y=.5-_*_-v*v;if(Y>=0){const F=ie+t[le],Q=s[F],Z=e[F];Y*=Y,l=Y*Y*(Q*_+Z*v)}let L=.5-H*H-K*K;if(L>=0){const F=ie+k+t[le+y],Q=s[F],Z=e[F];L*=L,i=L*L*(Q*H+Z*K)}let J=.5-oe*oe-ae*ae;if(J>=0){const F=ie+1+t[le+1],Q=s[F],Z=e[F];J*=J,g=J*J*(Q*oe+Z*ae)}return 70*(l+i+g)}}function xe(n){const s=new Uint8Array(512);for(let e=0;e<512/2;e++)s[e]=e;for(let e=0;e<512/2-1;e++){const r=e+~~(n()*(256-e)),o=s[e];s[e]=s[r],s[r]=o}for(let e=256;e<512;e++)s[e]=s[e-256];return s}const he=(n=0,t=100)=>{const s=t-n;let e=Math.random();return e=e*s,e=e+n,e},_e=(n=0,t=100,s=0,e=0,r=0)=>{const o=t-n;let l=(Ze(()=>r)(s,e)+1)/2;return l=Math.floor(l*o),l=l+n,l},et=()=>Math.random()>.5;function ke(n,t,s){const e=n.slice();return e[4]=t[s],e[6]=s,e}function be(n,t){let s,e,r,o,a,l;var i=t[0].itemComponent;function g(f){return{props:{picked:f[1].has(f[6])}}}i&&(e=new i(g(t)));function u(){return t[3](t[6])}return{key:n,first:null,c(){s=I("div"),e&&N(e.$$.fragment),r=W(),this.h()},l(f){s=$(f,"DIV",{class:!0,style:!0});var p=B(s);e&&G(e.$$.fragment,p),r=X(p),p.forEach(h),this.h()},h(){C(s,"class","item-wrapper svelte-1qj3qn6"),T(s,"left",_e(-20,100,t[6],0,we)+"%"),T(s,"bottom","12%"),this.first=s},m(f,p){V(f,s,p),e&&E(e,s,null),S(s,r),o=!0,a||(l=ee(s,"click",u),a=!0)},p(f,p){t=f;const d={};if(p&3&&(d.picked=t[1].has(t[6])),i!==(i=t[0].itemComponent)){if(e){O();const m=e;w(m.$$.fragment,1,0,()=>{D(m,1)}),A()}i?(e=new i(g(t)),N(e.$$.fragment),b(e.$$.fragment,1),E(e,s,r)):e=null}else i&&e.$set(d);(!o||p&1)&&T(s,"left",_e(-20,100,t[6],0,we)+"%")},i(f){o||(e&&b(e.$$.fragment,f),o=!0)},o(f){e&&w(e.$$.fragment,f),o=!1},d(f){f&&h(s),e&&D(e),a=!1,l()}}}function tt(n){let t,s=[],e=new Map,r,o=Array(n[0].totalItems);const a=l=>l[6];for(let l=0;l<o.length;l+=1){let i=ke(n,o,l),g=a(i);e.set(g,s[l]=be(g,i))}return{c(){t=I("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){t=$(l,"DIV",{class:!0});var i=B(t);for(let g=0;g<s.length;g+=1)s[g].l(i);i.forEach(h),this.h()},h(){C(t,"class","items-container svelte-1qj3qn6")},m(l,i){V(l,t,i);for(let g=0;g<s.length;g+=1)s[g].m(t,null);r=!0},p(l,i){i&7&&(o=Array(l[0].totalItems),O(),s=ze(s,i,a,1,l,o,e,t,je,be,null,ke),A())},i(l){if(!r){for(let i=0;i<o.length;i+=1)b(s[i]);r=!0}},o(l){for(let i=0;i<s.length;i+=1)w(s[i]);r=!1},d(l){l&&h(t);for(let i=0;i<s.length;i+=1)s[i].d()}}}function st(n){let t,s;return t=new Ve({props:{dialogs:n[0].dialogs,errorStep:n[0].errorStep,successStep:n[0].successStep,isValid:n[1].size>=n[0].targetCount,bgImage:n[0].bgImage,progressNum:n[1].size,progressTotal:n[0].targetCount,$$slots:{default:[tt]},$$scope:{ctx:n}}}),{c(){N(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){E(t,e,r),s=!0},p(e,[r]){const o={};r&1&&(o.dialogs=e[0].dialogs),r&1&&(o.errorStep=e[0].errorStep),r&1&&(o.successStep=e[0].successStep),r&3&&(o.isValid=e[1].size>=e[0].targetCount),r&1&&(o.bgImage=e[0].bgImage),r&2&&(o.progressNum=e[1].size),r&1&&(o.progressTotal=e[0].targetCount),r&131&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){s||(b(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}const we=.34987;function nt(n,t,s){let{props:e}=t,r=new Set;const o=l=>{r.has(l)?r.delete(l):r.add(l),s(1,r)},a=l=>{o(l)};return n.$$set=l=>{"props"in l&&s(0,e=l.props)},n.$$.update=()=>{if(n.$$.dirty&1&&e.totalItems<e.targetCount)throw new Error("The target count must be less than the total items")},[e,r,o,a]}class rt extends z{constructor(t){super(),j(this,t,nt,st,q,{props:0})}}function ot(n){let t,s;return{c(){t=I("div"),s=P("Unknown slide type")},l(e){t=$(e,"DIV",{});var r=B(t);s=U(r,"Unknown slide type"),r.forEach(h)},m(e,r){V(e,t,r),S(t,s)},p:M,i:M,o:M,d(e){e&&h(t)}}}function at(n){let t,s;return t=new Je({props:{props:n[0]}}),{c(){N(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){E(t,e,r),s=!0},p(e,r){const o={};r&1&&(o.props=e[0]),t.$set(o)},i(e){s||(b(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function it(n){let t,s;return t=new rt({props:{props:n[0]}}),{c(){N(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,r){E(t,e,r),s=!0},p(e,r){const o={};r&1&&(o.props=e[0]),t.$set(o)},i(e){s||(b(t.$$.fragment,e),s=!0)},o(e){w(t.$$.fragment,e),s=!1},d(e){D(t,e)}}}function lt(n){let t,s,e,r;const o=[it,at,ot],a=[];function l(i,g){return i[0].type==="pick-items"?0:i[0].type==="click-times"?1:2}return t=l(n),s=a[t]=o[t](n),{c(){s.c(),e=ne()},l(i){s.l(i),e=ne()},m(i,g){a[t].m(i,g),V(i,e,g),r=!0},p(i,[g]){let u=t;t=l(i),t===u?a[t].p(i,g):(O(),w(a[u],1,1,()=>{a[u]=null}),A(),s=a[t],s?s.p(i,g):(s=a[t]=o[t](i),s.c()),b(s,1),s.m(e.parentNode,e))},i(i){r||(b(s),r=!0)},o(i){w(s),r=!1},d(i){a[t].d(i),i&&h(e)}}}function ct(n,t,s){let{props:e}=t;return n.$$set=r=>{"props"in r&&s(0,e=r.props)},[e]}class ut extends z{constructor(t){super(),j(this,t,ct,lt,q,{props:0})}}function ve(n){let t,s,e,r;return s=new Be({props:{href:n[0],$$slots:{default:[ft]},$$scope:{ctx:n}}}),{c(){t=I("div"),N(s.$$.fragment),this.h()},l(o){t=$(o,"DIV",{class:!0});var a=B(t);G(s.$$.fragment,a),a.forEach(h),this.h()},h(){C(t,"class","skip-button svelte-spxpjq")},m(o,a){V(o,t,a),E(s,t,null),r=!0},p(o,a){n=o;const l={};a&1&&(l.href=n[0]),a&128&&(l.$$scope={dirty:a,ctx:n}),s.$set(l)},i(o){r||(b(s.$$.fragment,o),e||se(()=>{e=ue(t,Ce,{y:-20,easing:Pe,delay:2e3,duration:600}),e.start()}),r=!0)},o(o){w(s.$$.fragment,o),r=!1},d(o){o&&h(t),D(s)}}}function ft(n){let t;return{c(){t=P("Skip")},l(s){t=U(s,"Skip")},m(s,e){V(s,t,e)},d(s){s&&h(t)}}}function Se(n){let t,s,e,r,o;s=new ut({props:{props:{...n[1],successStep:n[3]}}});let a=n[2]&&ve(n);return{c(){t=I("div"),N(s.$$.fragment),e=W(),a&&a.c(),this.h()},l(l){t=$(l,"DIV",{class:!0});var i=B(t);G(s.$$.fragment,i),e=X(i),a&&a.l(i),i.forEach(h),this.h()},h(){C(t,"class","wrapper svelte-spxpjq")},m(l,i){V(l,t,i),E(s,t,null),S(t,e),a&&a.m(t,null),o=!0},p(l,i){const g={};i&10&&(g.props={...l[1],successStep:l[3]}),s.$set(g),l[2]?a?(a.p(l,i),i&4&&b(a,1)):(a=ve(l),a.c(),b(a,1),a.m(t,null)):a&&(O(),w(a,1,1,()=>{a=null}),A())},i(l){o||(b(s.$$.fragment,l),b(a),r||se(()=>{r=ue(t,Ue,{duration:500}),r.start()}),o=!0)},o(l){w(s.$$.fragment,l),w(a),o=!1},d(l){l&&h(t),D(s),a&&a.d()}}}function gt(n){let t=n[1],s,e,r=Se(n);return{c(){r.c(),s=ne()},l(o){r.l(o),s=ne()},m(o,a){r.m(o,a),V(o,s,a),e=!0},p(o,[a]){a&2&&q(t,t=o[1])?(O(),w(r,1,1,M),A(),r=Se(o),r.c(),b(r,1),r.m(s.parentNode,s)):r.p(o,a)},i(o){e||(b(r),e=!0)},o(o){w(r),e=!1},d(o){o&&h(s),r.d(o)}}}function dt(n,t,s){let e,r,{slides:o}=t,{skipButtonUrl:a}=t,l=!1,i=0;const g=()=>{i<o.length-1&&s(5,i=i+1)};return ce(()=>{s(2,l=!0)}),n.$$set=u=>{"slides"in u&&s(4,o=u.slides),"skipButtonUrl"in u&&s(0,a=u.skipButtonUrl)},n.$$.update=()=>{if(n.$$.dirty&16&&o.length===0)throw new Error("You must provide at least 1 slide option");if(n.$$.dirty&48&&s(1,e=o[i]),n.$$.dirty&2&&s(3,r=e.successStep),n.$$.dirty&2){const u=e.successStep.nextButton;s(3,r={...e.successStep,nextButton:{...e.successStep.nextButton,text:(u==null?void 0:u.text)||"Ok",action:()=>{var f;(f=u==null?void 0:u.action)==null||f.call(u),g()}}})}},[a,e,l,r,o,i]}class pt extends z{constructor(t){super(),j(this,t,dt,gt,q,{slides:4,skipButtonUrl:0})}}function mt(n){let t;return{c(){t=I("div"),this.h()},l(s){t=$(s,"DIV",{class:!0,style:!0}),B(t).forEach(h),this.h()},h(){C(t,"class","wrapper svelte-pxcvxj"),T(t,"background-image","url("+n[1]+")"),re(t,"isIntersecting",n[0])},m(s,e){V(s,t,e)},p(s,[e]){e&1&&re(t,"isIntersecting",s[0])},i:M,o:M,d(s){s&&h(t)}}}function ht(n,t,s){let{isIntersecting:e=!1}=t;const r=`${R}/img/sugar-cane-water/cleaver2.png`;return n.$$set=o=>{"isIntersecting"in o&&s(0,e=o.isIntersecting)},[e,r]}class ye extends z{constructor(t){super(),j(this,t,ht,mt,q,{isIntersecting:0})}}function _t(n){let t;return{c(){t=I("div"),this.h()},l(s){t=$(s,"DIV",{class:!0,style:!0}),B(t).forEach(h),this.h()},h(){C(t,"class","wrapper svelte-133a6a0"),T(t,"filter","brightness("+n[0]+")"),T(t,"background-image","url("+n[1]+")")},m(s,e){V(s,t,e)},p(s,[e]){e&1&&T(t,"filter","brightness("+s[0]+")")},i:M,o:M,d(s){s&&h(t)}}}function kt(n,t,s){let e,{progress:r=0}=t;const o=`${R}/img/sugar-cane-water/cut-cane.png`;return n.$$set=a=>{"progress"in a&&s(2,r=a.progress)},n.$$.update=()=>{n.$$.dirty&4&&s(0,e=Te(r+.2,0,1))},[e,o,r]}class Ie extends z{constructor(t){super(),j(this,t,kt,_t,q,{progress:2})}}function bt(n){let t;return{c(){t=I("div"),this.h()},l(s){t=$(s,"DIV",{class:!0,style:!0}),B(t).forEach(h),this.h()},h(){C(t,"class","wrapper svelte-5gdabs"),T(t,"background-image","url("+n[2]+")"),T(t,"transform","rotate("+n[3]+"deg) scale("+n[1]+") scaleX("+n[4]+")"),re(t,"picked",n[0])},m(s,e){V(s,t,e)},p(s,[e]){e&2&&T(t,"transform","rotate("+s[3]+"deg) scale("+s[1]+") scaleX("+s[4]+")"),e&1&&re(t,"picked",s[0])},i:M,o:M,d(s){s&&h(t)}}}function wt(n,t,s){let e;const r=`${R}/img/sugar-cane-water/cane.png`;let{picked:o=!1}=t;const a=he(-10,10),l=he(1,1.4),i=et()?1:-1;return n.$$set=g=>{"picked"in g&&s(0,o=g.picked)},n.$$.update=()=>{n.$$.dirty&1&&s(1,e=o?l*1.2:l)},[o,e,r,a,i]}class $e extends z{constructor(t){super(),j(this,t,wt,bt,q,{picked:0})}}function vt(n){let t,s,e,r;return se(n[2]),t=new pt({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:n[1]?3:8,itemComponent:$e,bgImage:`${R}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Tap the knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:Ie,dragComponent:ye,targetClicks:3,bgImage:`${R}/img/sugar-cane-water/canes-background.png`}]}}),{c(){N(t.$$.fragment)},l(o){G(t.$$.fragment,o)},m(o,a){E(t,o,a),s=!0,e||(r=ee(window,"resize",n[2]),e=!0)},p(o,[a]){const l={};a&2&&(l.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's bring them into the kitchen",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:o[1]?3:8,itemComponent:$e,bgImage:`${R}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Now we need to peel the sugar cane with a knife. Tap the knife across the cane at least three times.",nextButton:{text:"Why do we need to do this?"}},{characterName:"Grandpa",bodyText:"The outside is tough and not nice to use",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost fully peeled"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:Ie,dragComponent:ye,targetClicks:3,bgImage:`${R}/img/sugar-cane-water/canes-background.png`}]),t.$set(l)},i(o){s||(b(t.$$.fragment,o),s=!0)},o(o){w(t.$$.fragment,o),s=!1},d(o){D(t,o),e=!1,r()}}}function St(n,t,s){let e,r=9999;function o(){s(0,r=window.innerWidth)}return n.$$.update=()=>{n.$$.dirty&1&&s(1,e=r<500)},[r,e,o]}class Ct extends z{constructor(t){super(),j(this,t,St,vt,q,{})}}export{Ct as default};
