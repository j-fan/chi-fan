import{S as U,i as F,s as P,e as L,b as N,B as O,h as k,o as ae,k as B,l as T,m as V,n as E,C as X,U as Pe,p as b,g as A,t as w,d as R,f as v,q as H,a as J,r as K,c as Q,D as C,u as ie,N as le,V as ge,w as D,x as j,y as z,z as G,F as je,H as Ae,I as Re,J as Ue,v as $,O as Fe,M as oe,P as Xe,W as de,X as Ye,Y as He}from"../../../../chunks/index-16264e69.js";import{b as Z}from"../../../../chunks/paths-b4419565.js";import{B as Ge}from"../../../../chunks/Button-73296b33.js";import{a as Me,b as Ke,f as We}from"../../../../chunks/index-4899a8ee.js";function me(r,e,n){const t=r.slice();return t[18]=e[n],t}function he(r){let e,n={length:r[6]},t=[];for(let s=0;s<n.length;s+=1)t[s]=_e(me(r,n,s));return{c(){e=B("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var o=V(e);for(let i=0;i<t.length;i+=1)t[i].l(o);o.forEach(k),this.h()},h(){E(e,"class","confetti-holder svelte-io58ff"),X(e,"rounded",r[9]),X(e,"cone",r[10]),X(e,"no-gravity",r[11])},m(s,o){N(s,e,o);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(s,o){if(o&20991){n={length:s[6]};let i;for(i=0;i<n.length;i+=1){const l=me(s,n,i);t[i]?t[i].p(l,o):(t[i]=_e(l),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=n.length}o&512&&X(e,"rounded",s[9]),o&1024&&X(e,"cone",s[10]),o&2048&&X(e,"no-gravity",s[11])},d(s){s&&k(e),Pe(t,s)}}}function _e(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(k),this.h()},h(){E(e,"class","confetti svelte-io58ff"),b(e,"--fall-distance",r[8]),b(e,"--size",r[0]+"px"),b(e,"--color",r[14]()),b(e,"--skew",q(-45,45)+"deg,"+q(-45,45)+"deg"),b(e,"--rotation-xyz",q(-10,10)+", "+q(-10,10)+", "+q(-10,10)),b(e,"--rotation-deg",q(0,360)+"deg"),b(e,"--translate-y-multiplier",q(r[2][0],r[2][1])),b(e,"--translate-x-multiplier",q(r[1][0],r[1][1])),b(e,"--scale",.1*q(2,10)),b(e,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),b(e,"--transition-delay",q(r[5][0],r[5][1])+"ms"),b(e,"--transition-iteration-count",r[4]?"infinite":r[7]),b(e,"--x-spread",1-r[12])},m(n,t){N(n,e,t)},p(n,t){t&256&&b(e,"--fall-distance",n[8]),t&1&&b(e,"--size",n[0]+"px"),t&4&&b(e,"--translate-y-multiplier",q(n[2][0],n[2][1])),t&2&&b(e,"--translate-x-multiplier",q(n[1][0],n[1][1])),t&24&&b(e,"--transition-duration",n[4]?`calc(${n[3]}ms * var(--scale))`:`${n[3]}ms`),t&32&&b(e,"--transition-delay",q(n[5][0],n[5][1])+"ms"),t&144&&b(e,"--transition-iteration-count",n[4]?"infinite":n[7]),t&4096&&b(e,"--x-spread",1-n[12])},d(n){n&&k(e)}}}function Le(r){let e,n=!r[13]&&he(r);return{c(){n&&n.c(),e=L()},l(t){n&&n.l(t),e=L()},m(t,s){n&&n.m(t,s),N(t,e,s)},p(t,[s]){t[13]?n&&(n.d(1),n=null):n?n.p(t,s):(n=he(t),n.c(),n.m(e.parentNode,e))},i:O,o:O,d(t){n&&n.d(t),t&&k(e)}}}function q(r,e){return Math.random()*(e-r)+r}function Je(r,e,n){let{size:t=10}=e,{x:s=[-.5,.5]}=e,{y:o=[.25,1]}=e,{duration:i=2e3}=e,{infinite:l=!1}=e,{delay:a=[0,50]}=e,{colorRange:u=[0,360]}=e,{colorArray:c=[]}=e,{amount:g=50}=e,{iterationCount:d=1}=e,{fallDistance:m="100px"}=e,{rounded:h=!1}=e,{cone:p=!1}=e,{noGravity:S=!1}=e,{xSpread:y=.15}=e,{destroyOnComplete:f=!0}=e,I=!1;ae(()=>{!f||l||d=="infinite"||setTimeout(()=>n(13,I=!0),(i+a[1])*d)});function M(){return c.length?c[Math.round(Math.random()*(c.length-1))]:`hsl(${Math.round(q(u[0],u[1]))}, 75%, 50%`}return r.$$set=_=>{"size"in _&&n(0,t=_.size),"x"in _&&n(1,s=_.x),"y"in _&&n(2,o=_.y),"duration"in _&&n(3,i=_.duration),"infinite"in _&&n(4,l=_.infinite),"delay"in _&&n(5,a=_.delay),"colorRange"in _&&n(15,u=_.colorRange),"colorArray"in _&&n(16,c=_.colorArray),"amount"in _&&n(6,g=_.amount),"iterationCount"in _&&n(7,d=_.iterationCount),"fallDistance"in _&&n(8,m=_.fallDistance),"rounded"in _&&n(9,h=_.rounded),"cone"in _&&n(10,p=_.cone),"noGravity"in _&&n(11,S=_.noGravity),"xSpread"in _&&n(12,y=_.xSpread),"destroyOnComplete"in _&&n(17,f=_.destroyOnComplete)},[t,s,o,i,l,a,g,d,m,h,p,S,y,I,M,u,c,f]}class Qe extends U{constructor(e){super(),F(this,e,Je,Le,P,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}const qe=(r,e,n)=>Math.min(Math.max(r,e),n),Ze=()=>{ae(()=>(document.body.className="no-scroll",()=>{document.body.className=""}))};function pe(r){let e,n;return e=new Ge({props:{href:r[0].nextButton.href,$$slots:{default:[$e]},$$scope:{ctx:r}}}),e.$on("click",r[1]),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.href=t[0].nextButton.href),s&129&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function $e(r){let e=r[0].nextButton.text+"",n;return{c(){n=H(e)},l(t){n=K(t,e)},m(t,s){N(t,n,s)},p(t,s){s&1&&e!==(e=t[0].nextButton.text+"")&&ie(n,e)},d(t){t&&k(n)}}}function ke(r){let e,n,t=r[0].characterName+"",s,o,i,l=r[0].bodyText+"",a,u,c,g,d,m=r[0].nextButton&&pe(r);return{c(){e=B("div"),n=B("h3"),s=H(t),o=J(),i=B("p"),a=H(l),u=J(),c=B("div"),m&&m.c(),this.h()},l(h){e=T(h,"DIV",{class:!0});var p=V(e);n=T(p,"H3",{class:!0});var S=V(n);s=K(S,t),S.forEach(k),o=Q(p),i=T(p,"P",{});var y=V(i);a=K(y,l),y.forEach(k),u=Q(p),c=T(p,"DIV",{class:!0});var f=V(c);m&&m.l(f),f.forEach(k),p.forEach(k),this.h()},h(){E(n,"class","character-name svelte-1oqaosq"),E(c,"class","button-wrapper svelte-1oqaosq"),E(e,"class","dialog svelte-1oqaosq")},m(h,p){N(h,e,p),C(e,n),C(n,s),C(e,o),C(e,i),C(i,a),C(e,u),C(e,c),m&&m.m(c,null),d=!0},p(h,p){(!d||p&1)&&t!==(t=h[0].characterName+"")&&ie(s,t),(!d||p&1)&&l!==(l=h[0].bodyText+"")&&ie(a,l),h[0].nextButton?m?(m.p(h,p),p&1&&v(m,1)):(m=pe(h),m.c(),v(m,1),m.m(c,null)):m&&(A(),w(m,1,1,()=>{m=null}),R())},i(h){d||(v(m),g||le(()=>{g=ge(e,Me,{y:20,duration:400}),g.start()}),d=!0)},o(h){w(m),d=!1},d(h){h&&k(e),m&&m.d()}}}function xe(r){let e,n=r[0],t,s=ke(r);return{c(){e=B("div"),s.c(),this.h()},l(o){e=T(o,"DIV",{class:!0});var i=V(e);s.l(i),i.forEach(k),this.h()},h(){E(e,"class","float-bottom-wrapper svelte-1oqaosq")},m(o,i){N(o,e,i),s.m(e,null),t=!0},p(o,[i]){i&1&&P(n,n=o[0])?(A(),w(s,1,1,O),R(),s=ke(o),s.c(),v(s,1),s.m(e,null)):s.p(o,i)},i(o){t||(v(s),t=!0)},o(o){w(s),t=!1},d(o){o&&k(e),s.d(o)}}}function et(r,e,n){let t,{dialogs:s}=e,{isValid:o}=e,{errorStep:i}=e,{successStep:l}=e,a=0;const u=()=>{var c,g,d;(c=t.nextButton)!=null&&c.href||((d=(g=t.nextButton)==null?void 0:g.action)==null||d.call(g),a<s.length-1?(n(6,a=a+1),n(0,t=s[a])):a===s.length-1&&n(6,a=a+1))};return r.$$set=c=>{"dialogs"in c&&n(2,s=c.dialogs),"isValid"in c&&n(3,o=c.isValid),"errorStep"in c&&n(4,i=c.errorStep),"successStep"in c&&n(5,l=c.successStep)},r.$$.update=()=>{if(r.$$.dirty&4&&s.length===0)throw new Error("You must provide at least 1 dialog option");r.$$.dirty&4&&n(0,t=s[0]),r.$$.dirty&124&&(a===s.length-1&&o&&n(0,t=l),a===s.length&&n(0,t=o?l:i))},[t,u,s,o,i,l,a]}class tt extends U{constructor(e){super(),F(this,e,et,xe,P,{dialogs:2,isValid:3,errorStep:4,successStep:5})}}function nt(r){let e,n,t,s,o,i,l,a,u,c,g;const d=r[8].default,m=je(d,r,r[7],null);return c=new tt({props:{dialogs:r[0],isValid:r[1],errorStep:r[2],successStep:r[3]}}),{c(){e=B("div"),n=B("div"),t=B("p"),s=H("Progress: "),o=H(r[5]),i=H(" / "),l=H(r[6]),a=J(),m&&m.c(),u=J(),D(c.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var p=V(e);n=T(p,"DIV",{class:!0,style:!0});var S=V(n);t=T(S,"P",{class:!0});var y=V(t);s=K(y,"Progress: "),o=K(y,r[5]),i=K(y," / "),l=K(y,r[6]),y.forEach(k),a=Q(S),m&&m.l(S),S.forEach(k),u=Q(p),j(c.$$.fragment,p),p.forEach(k),this.h()},h(){E(t,"class","progress svelte-va0idu"),E(n,"class","slide-content svelte-va0idu"),b(n,"background-image","url("+r[4]+")"),E(e,"class","wrapper svelte-va0idu")},m(h,p){N(h,e,p),C(e,n),C(n,t),C(t,s),C(t,o),C(t,i),C(t,l),C(n,a),m&&m.m(n,null),C(e,u),z(c,e,null),g=!0},p(h,[p]){(!g||p&32)&&ie(o,h[5]),(!g||p&64)&&ie(l,h[6]),m&&m.p&&(!g||p&128)&&Ae(m,d,h,h[7],g?Ue(d,h[7],p,null):Re(h[7]),null),(!g||p&16)&&b(n,"background-image","url("+h[4]+")");const S={};p&1&&(S.dialogs=h[0]),p&2&&(S.isValid=h[1]),p&4&&(S.errorStep=h[2]),p&8&&(S.successStep=h[3]),c.$set(S)},i(h){g||(v(m,h),v(c.$$.fragment,h),g=!0)},o(h){w(m,h),w(c.$$.fragment,h),g=!1},d(h){h&&k(e),m&&m.d(h),G(c)}}}function st(r,e,n){let{$$slots:t={},$$scope:s}=e,{dialogs:o}=e,{isValid:i}=e,{errorStep:l}=e,{successStep:a}=e,{bgImage:u=void 0}=e,{progressNum:c}=e,{progressTotal:g}=e;return r.$$set=d=>{"dialogs"in d&&n(0,o=d.dialogs),"isValid"in d&&n(1,i=d.isValid),"errorStep"in d&&n(2,l=d.errorStep),"successStep"in d&&n(3,a=d.successStep),"bgImage"in d&&n(4,u=d.bgImage),"progressNum"in d&&n(5,c=d.progressNum),"progressTotal"in d&&n(6,g=d.progressTotal),"$$scope"in d&&n(7,s=d.$$scope)},[o,i,l,a,u,c,g,s,t]}class Oe extends U{constructor(e){super(),F(this,e,st,nt,P,{dialogs:0,isValid:1,errorStep:2,successStep:3,bgImage:4,progressNum:5,progressTotal:6})}}function be(r){let e,n;return e=new Qe({props:{colorArray:["#B6C48F","#627620"],size:15,amount:25,duration:800,x:[-1,1],y:[-1,1]}}),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ve(r){let e,n,t=r[8]>0&&be();return{c(){t&&t.c(),e=L()},l(s){t&&t.l(s),e=L()},m(s,o){t&&t.m(s,o),N(s,e,o),n=!0},p(s,o){s[8]>0?t?o&256&&v(t,1):(t=be(),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(A(),w(t,1,1,()=>{t=null}),R())},i(s){n||(v(t),n=!0)},o(s){w(t),n=!1},d(s){t&&t.d(s),s&&k(e)}}}function rt(r){let e,n,t,s,o,i,l,a=r[8],u,c,g,d;var m=r[0].targetComponent;function h(f){return{props:{progress:f[8]/f[0].targetClicks}}}m&&(t=$(m,h(r)));var p=r[0].dragComponent;function S(f){return{props:{isIntersecting:f[7]}}}p&&(i=$(p,S(r)));let y=ve(r);return{c(){e=B("div"),n=B("div"),t&&D(t.$$.fragment),s=J(),o=B("div"),i&&D(i.$$.fragment),l=J(),y.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var I=V(e);n=T(I,"DIV",{class:!0});var M=V(n);t&&j(t.$$.fragment,M),s=Q(M),o=T(M,"DIV",{class:!0,style:!0});var _=V(o);i&&j(i.$$.fragment,_),l=Q(_),y.l(_),_.forEach(k),M.forEach(k),I.forEach(k),this.h()},h(){E(o,"class","follow-mouse svelte-1v7syx2"),b(o,"left",r[1]+"px"),b(o,"top",r[2]+"px"),le(()=>r[11].call(o)),E(n,"class","target svelte-1v7syx2"),E(e,"class","centered svelte-1v7syx2")},m(f,I){N(f,e,I),C(e,n),t&&z(t,n,null),C(n,s),C(n,o),i&&z(i,o,null),C(o,l),y.m(o,null),u=Fe(o,r[11].bind(o)),r[12](o),r[13](n),c=!0,g||(d=[oe(e,"click",r[14]),oe(e,"mousemove",r[9]),oe(e,"touchmove",r[10])],g=!0)},p(f,I){const M={};if(I&257&&(M.progress=f[8]/f[0].targetClicks),m!==(m=f[0].targetComponent)){if(t){A();const Y=t;w(Y.$$.fragment,1,0,()=>{G(Y,1)}),R()}m?(t=$(m,h(f)),D(t.$$.fragment),v(t.$$.fragment,1),z(t,n,s)):t=null}else m&&t.$set(M);const _={};if(I&128&&(_.isIntersecting=f[7]),p!==(p=f[0].dragComponent)){if(i){A();const Y=i;w(Y.$$.fragment,1,0,()=>{G(Y,1)}),R()}p?(i=$(p,S(f)),D(i.$$.fragment),v(i.$$.fragment,1),z(i,o,l)):i=null}else p&&i.$set(_);I&256&&P(a,a=f[8])?(A(),w(y,1,1,O),R(),y=ve(f),y.c(),v(y,1),y.m(o,null)):y.p(f,I),(!c||I&2)&&b(o,"left",f[1]+"px"),(!c||I&4)&&b(o,"top",f[2]+"px")},i(f){c||(t&&v(t.$$.fragment,f),i&&v(i.$$.fragment,f),v(y),c=!0)},o(f){t&&w(t.$$.fragment,f),i&&w(i.$$.fragment,f),w(y),c=!1},d(f){f&&k(e),t&&G(t),i&&G(i),y.d(f),u(),r[12](null),r[13](null),g=!1,Xe(d)}}}function ot(r){let e,n;return e=new Oe({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[8]===r[0].targetClicks,bgImage:r[0].bgImage,progressNum:r[8],progressTotal:r[0].targetClicks,$$slots:{default:[rt]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,[s]){const o={};s&1&&(o.dialogs=t[0].dialogs),s&1&&(o.errorStep=t[0].errorStep),s&1&&(o.successStep=t[0].successStep),s&257&&(o.isValid=t[8]===t[0].targetClicks),s&1&&(o.bgImage=t[0].bgImage),s&256&&(o.progressNum=t[8]),s&1&&(o.progressTotal=t[0].targetClicks),s&33279&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function it(r,e,n){let{props:t}=e,s=-200,o=-200,i=0,l=0,a,u,c=!1,g=0;const d=f=>{const I=a.getBoundingClientRect();n(1,s=f.clientX-I.x-i/2),n(2,o=f.clientY-I.y-l/2)},m=f=>{const I=a.getBoundingClientRect();n(1,s=f.changedTouches[0].clientX-I.x-i/2),n(2,o=f.changedTouches[0].clientY-I.y-l/2)};ae(()=>{const f=M=>{M.forEach(_=>{n(7,c=_.isIntersecting)})},I=new IntersectionObserver(f,{root:a,rootMargin:"0px",threshold:[0,.2,.4,.6,.8,1]});return I.observe(u),()=>{I.disconnect()}}),Ze();function h(){i=this.clientWidth,l=this.clientHeight,n(3,i),n(4,l)}function p(f){de[f?"unshift":"push"](()=>{u=f,n(6,u)})}function S(f){de[f?"unshift":"push"](()=>{a=f,n(5,a)})}const y=()=>{c&&n(8,g=qe(g+1,0,t.targetClicks))};return r.$$set=f=>{"props"in f&&n(0,t=f.props)},[t,s,o,i,l,a,u,c,g,d,m,h,p,S,y]}class lt extends U{constructor(e){super(),F(this,e,it,ot,P,{props:0})}}const at=.5*(Math.sqrt(3)-1),re=(3-Math.sqrt(3))/6,ye=r=>Math.floor(r)|0,we=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function ct(r=Math.random){const e=ft(r),n=new Float64Array(e).map(s=>we[s%12*2]),t=new Float64Array(e).map(s=>we[s%12*2+1]);return function(o,i){let l=0,a=0,u=0;const c=(o+i)*at,g=ye(o+c),d=ye(i+c),m=(g+d)*re,h=g-m,p=d-m,S=o-h,y=i-p;let f,I;S>y?(f=1,I=0):(f=0,I=1);const M=S-f+re,_=y-I+re,Y=S-1+2*re,ce=y-1+2*re,fe=g&255,ue=d&255;let x=.5-S*S-y*y;if(x>=0){const W=fe+e[ue],ne=n[W],se=t[W];x*=x,l=x*x*(ne*S+se*y)}let ee=.5-M*M-_*_;if(ee>=0){const W=fe+f+e[ue+I],ne=n[W],se=t[W];ee*=ee,a=ee*ee*(ne*M+se*_)}let te=.5-Y*Y-ce*ce;if(te>=0){const W=fe+1+e[ue+1],ne=n[W],se=t[W];te*=te,u=te*te*(ne*Y+se*ce)}return 70*(l+a+u)}}function ft(r){const n=new Uint8Array(512);for(let t=0;t<512/2;t++)n[t]=t;for(let t=0;t<512/2-1;t++){const s=t+~~(r()*(256-t)),o=n[t];n[t]=n[s],n[s]=o}for(let t=256;t<512;t++)n[t]=n[t-256];return n}const Se=(r=0,e=100)=>{const n=e-r;let t=Math.random();return t=t*n,t=t+r,t},Ie=(r=0,e=100,n=0,t=0,s=0)=>{const o=e-r;let l=(ct(()=>s)(n,t)+1)/2;return l=Math.floor(l*o),l=l+r,l},ut=()=>Math.random()>.5;function Ce(r,e,n){const t=r.slice();return t[4]=e[n],t[6]=n,t}function Be(r,e){let n,t,s,o,i,l;var a=e[0].itemComponent;function u(g){return{props:{picked:g[1].has(g[6])}}}a&&(t=$(a,u(e)));function c(){return e[3](e[6])}return{key:r,first:null,c(){n=B("div"),t&&D(t.$$.fragment),s=J(),this.h()},l(g){n=T(g,"DIV",{class:!0,style:!0});var d=V(n);t&&j(t.$$.fragment,d),s=Q(d),d.forEach(k),this.h()},h(){E(n,"class","item-wrapper svelte-1qj3qn6"),b(n,"left",Ie(-20,100,e[6],0,Te)+"%"),b(n,"bottom","12%"),this.first=n},m(g,d){N(g,n,d),t&&z(t,n,null),C(n,s),o=!0,i||(l=oe(n,"click",c),i=!0)},p(g,d){e=g;const m={};if(d&3&&(m.picked=e[1].has(e[6])),a!==(a=e[0].itemComponent)){if(t){A();const h=t;w(h.$$.fragment,1,0,()=>{G(h,1)}),R()}a?(t=$(a,u(e)),D(t.$$.fragment),v(t.$$.fragment,1),z(t,n,s)):t=null}else a&&t.$set(m);(!o||d&1)&&b(n,"left",Ie(-20,100,e[6],0,Te)+"%")},i(g){o||(t&&v(t.$$.fragment,g),o=!0)},o(g){t&&w(t.$$.fragment,g),o=!1},d(g){g&&k(n),t&&G(t),i=!1,l()}}}function gt(r){let e,n=[],t=new Map,s,o=Array(r[0].totalItems);const i=l=>l[6];for(let l=0;l<o.length;l+=1){let a=Ce(r,o,l),u=i(a);t.set(u,n[l]=Be(u,a))}return{c(){e=B("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=T(l,"DIV",{class:!0});var a=V(e);for(let u=0;u<n.length;u+=1)n[u].l(a);a.forEach(k),this.h()},h(){E(e,"class","items-container svelte-1qj3qn6")},m(l,a){N(l,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);s=!0},p(l,a){a&7&&(o=Array(l[0].totalItems),A(),n=Ye(n,a,i,1,l,o,t,e,He,Be,null,Ce),R())},i(l){if(!s){for(let a=0;a<o.length;a+=1)v(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)w(n[a]);s=!1},d(l){l&&k(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function dt(r){let e,n;return e=new Oe({props:{dialogs:r[0].dialogs,errorStep:r[0].errorStep,successStep:r[0].successStep,isValid:r[1].size>=r[0].targetCount,bgImage:r[0].bgImage,progressNum:r[1].size,progressTotal:r[0].targetCount,$$slots:{default:[gt]},$$scope:{ctx:r}}}),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,[s]){const o={};s&1&&(o.dialogs=t[0].dialogs),s&1&&(o.errorStep=t[0].errorStep),s&1&&(o.successStep=t[0].successStep),s&3&&(o.isValid=t[1].size>=t[0].targetCount),s&1&&(o.bgImage=t[0].bgImage),s&2&&(o.progressNum=t[1].size),s&1&&(o.progressTotal=t[0].targetCount),s&131&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}const Te=.34987;function mt(r,e,n){let{props:t}=e,s=new Set;const o=l=>{s.has(l)?s.delete(l):s.add(l),n(1,s)},i=l=>{o(l)};return r.$$set=l=>{"props"in l&&n(0,t=l.props)},r.$$.update=()=>{if(r.$$.dirty&1&&t.totalItems<t.targetCount)throw new Error("The target count must be less than the total items")},[t,s,o,i]}class ht extends U{constructor(e){super(),F(this,e,mt,dt,P,{props:0})}}function _t(r){let e,n;return{c(){e=B("div"),n=H("Unknown slide type")},l(t){e=T(t,"DIV",{});var s=V(e);n=K(s,"Unknown slide type"),s.forEach(k)},m(t,s){N(t,e,s),C(e,n)},p:O,i:O,o:O,d(t){t&&k(e)}}}function pt(r){let e,n;return e=new lt({props:{props:r[0]}}),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.props=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function kt(r){let e,n;return e=new ht({props:{props:r[0]}}),{c(){D(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){z(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.props=t[0]),e.$set(o)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function bt(r){let e,n,t,s;const o=[kt,pt,_t],i=[];function l(a,u){return a[0].type==="pick-items"?0:a[0].type==="click-times"?1:2}return e=l(r),n=i[e]=o[e](r),{c(){n.c(),t=L()},l(a){n.l(a),t=L()},m(a,u){i[e].m(a,u),N(a,t,u),s=!0},p(a,[u]){let c=e;e=l(a),e===c?i[e].p(a,u):(A(),w(i[c],1,1,()=>{i[c]=null}),R(),n=i[e],n?n.p(a,u):(n=i[e]=o[e](a),n.c()),v(n,1),n.m(t.parentNode,t))},i(a){s||(v(n),s=!0)},o(a){w(n),s=!1},d(a){i[e].d(a),a&&k(t)}}}function vt(r,e,n){let{props:t}=e;return r.$$set=s=>{"props"in s&&n(0,t=s.props)},[t]}class yt extends U{constructor(e){super(),F(this,e,vt,bt,P,{props:0})}}function Ve(r){let e,n,t,s;return n=new Ge({props:{href:r[0],$$slots:{default:[wt]},$$scope:{ctx:r}}}),{c(){e=B("div"),D(n.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0});var i=V(e);j(n.$$.fragment,i),i.forEach(k),this.h()},h(){E(e,"class","skip-button svelte-spxpjq")},m(o,i){N(o,e,i),z(n,e,null),s=!0},p(o,i){r=o;const l={};i&1&&(l.href=r[0]),i&128&&(l.$$scope={dirty:i,ctx:r}),n.$set(l)},i(o){s||(v(n.$$.fragment,o),t||le(()=>{t=ge(e,Me,{y:-20,easing:Ke,delay:2e3,duration:600}),t.start()}),s=!0)},o(o){w(n.$$.fragment,o),s=!1},d(o){o&&k(e),G(n)}}}function wt(r){let e;return{c(){e=H("Skip")},l(n){e=K(n,"Skip")},m(n,t){N(n,e,t)},d(n){n&&k(e)}}}function Ne(r){let e,n,t,s,o;n=new yt({props:{props:{...r[1],successStep:r[3]}}});let i=r[2]&&Ve(r);return{c(){e=B("div"),D(n.$$.fragment),t=J(),i&&i.c(),this.h()},l(l){e=T(l,"DIV",{class:!0});var a=V(e);j(n.$$.fragment,a),t=Q(a),i&&i.l(a),a.forEach(k),this.h()},h(){E(e,"class","wrapper svelte-spxpjq")},m(l,a){N(l,e,a),z(n,e,null),C(e,t),i&&i.m(e,null),o=!0},p(l,a){const u={};a&10&&(u.props={...l[1],successStep:l[3]}),n.$set(u),l[2]?i?(i.p(l,a),a&4&&v(i,1)):(i=Ve(l),i.c(),v(i,1),i.m(e,null)):i&&(A(),w(i,1,1,()=>{i=null}),R())},i(l){o||(v(n.$$.fragment,l),v(i),s||le(()=>{s=ge(e,We,{duration:500}),s.start()}),o=!0)},o(l){w(n.$$.fragment,l),w(i),o=!1},d(l){l&&k(e),G(n),i&&i.d()}}}function St(r){let e=r[1],n,t,s=Ne(r);return{c(){s.c(),n=L()},l(o){s.l(o),n=L()},m(o,i){s.m(o,i),N(o,n,i),t=!0},p(o,[i]){i&2&&P(e,e=o[1])?(A(),w(s,1,1,O),R(),s=Ne(o),s.c(),v(s,1),s.m(n.parentNode,n)):s.p(o,i)},i(o){t||(v(s),t=!0)},o(o){w(s),t=!1},d(o){o&&k(n),s.d(o)}}}function It(r,e,n){let t,s,{slides:o}=e,{skipButtonUrl:i}=e,l=!1,a=0;const u=()=>{a<o.length-1&&n(5,a=a+1)};return ae(()=>{n(2,l=!0)}),r.$$set=c=>{"slides"in c&&n(4,o=c.slides),"skipButtonUrl"in c&&n(0,i=c.skipButtonUrl)},r.$$.update=()=>{if(r.$$.dirty&16&&o.length===0)throw new Error("You must provide at least 1 slide option");if(r.$$.dirty&48&&n(1,t=o[a]),r.$$.dirty&2&&n(3,s=t.successStep),r.$$.dirty&2){const c=t.successStep.nextButton;n(3,s={...t.successStep,nextButton:{...t.successStep.nextButton,text:(c==null?void 0:c.text)||"Ok",action:()=>{var g;(g=c==null?void 0:c.action)==null||g.call(c),u()}}})}},[i,t,l,s,o,a]}class Ct extends U{constructor(e){super(),F(this,e,It,St,P,{slides:4,skipButtonUrl:0})}}function Bt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(k),this.h()},h(){E(e,"class","wrapper svelte-pxcvxj"),b(e,"background-image","url("+r[1]+")"),X(e,"isIntersecting",r[0])},m(n,t){N(n,e,t)},p(n,[t]){t&1&&X(e,"isIntersecting",n[0])},i:O,o:O,d(n){n&&k(e)}}}function Tt(r,e,n){let{isIntersecting:t=!1}=e;const s=`${Z}/img/sugar-cane-water/cleaver2.png`;return r.$$set=o=>{"isIntersecting"in o&&n(0,t=o.isIntersecting)},[t,s]}class Ee extends U{constructor(e){super(),F(this,e,Tt,Bt,P,{isIntersecting:0})}}function Vt(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(k),this.h()},h(){E(e,"class","wrapper svelte-133a6a0"),b(e,"filter","brightness("+r[0]+")"),b(e,"background-image","url("+r[1]+")")},m(n,t){N(n,e,t)},p(n,[t]){t&1&&b(e,"filter","brightness("+n[0]+")")},i:O,o:O,d(n){n&&k(e)}}}function Nt(r,e,n){let t,{progress:s=0}=e;const o=`${Z}/img/sugar-cane-water/cut-cane.png`;return r.$$set=i=>{"progress"in i&&n(2,s=i.progress)},r.$$.update=()=>{r.$$.dirty&4&&n(0,t=qe(s/3+.7,0,1))},[t,o,s]}class De extends U{constructor(e){super(),F(this,e,Nt,Vt,P,{progress:2})}}function Et(r){let e;return{c(){e=B("div"),this.h()},l(n){e=T(n,"DIV",{class:!0,style:!0}),V(e).forEach(k),this.h()},h(){E(e,"class","wrapper svelte-5gdabs"),b(e,"background-image","url("+r[2]+")"),b(e,"transform","rotate("+r[3]+"deg) scale("+r[1]+") scaleX("+r[4]+")"),X(e,"picked",r[0])},m(n,t){N(n,e,t)},p(n,[t]){t&2&&b(e,"transform","rotate("+n[3]+"deg) scale("+n[1]+") scaleX("+n[4]+")"),t&1&&X(e,"picked",n[0])},i:O,o:O,d(n){n&&k(e)}}}function Dt(r,e,n){let t;const s=`${Z}/img/sugar-cane-water/cane.png`;let{picked:o=!1}=e;const i=Se(-10,10),l=Se(1,1.4),a=ut()?1:-1;return r.$$set=u=>{"picked"in u&&n(0,o=u.picked)},r.$$.update=()=>{r.$$.dirty&1&&n(1,t=o?l*1.2:l)},[o,t,s,i,a]}class ze extends U{constructor(e){super(),F(this,e,Dt,Et,P,{picked:0})}}function zt(r){let e,n,t,s;return le(r[2]),e=new Ct({props:{skipButtonUrl:"/sugar-cane-water",slides:[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:r[1]?3:8,itemComponent:ze,bgImage:`${Z}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${Z}/img/sugar-cane-water/canes-background.png`}]}}),{c(){D(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,i){z(e,o,i),n=!0,t||(s=oe(window,"resize",r[2]),t=!0)},p(o,[i]){const l={};i&2&&(l.slides=[{type:"pick-items",dialogs:[{characterName:"Grandpa",bodyText:"First you need to pick some sugar cane",nextButton:{text:"How many do I pick?"}},{characterName:"Grandpa",bodyText:"Let's choose about 3 canes",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, we just need a few more!"},successStep:{characterName:"Grandpa",bodyText:"These look good. Let's wash and peel them now.",nextButton:{text:"Sounds good"}},targetCount:3,totalItems:o[1]?3:8,itemComponent:ze,bgImage:`${Z}/img/sugar-cane-water/canes-background.png`},{type:"click-times",dialogs:[{characterName:"Grandpa",bodyText:"Use a cleaver to shave the stalk to eliminate bumps.",nextButton:{text:"Continue"}},{characterName:"Grandpa",bodyText:"Ensure you are seated on a low stool and the stalk is firmly implanted into the ground.",nextButton:{text:"Ok I got it!"}}],errorStep:{characterName:"Grandpa",bodyText:"Keep going, it is almost ready"},successStep:{characterName:"Grandpa",bodyText:"The look great now, now we need to scrub it further to clean it.",nextButton:{text:"Sounds good",href:"/sugar-cane-water"}},targetComponent:De,dragComponent:Ee,targetClicks:3,bgImage:`${Z}/img/sugar-cane-water/canes-background.png`}]),e.$set(l)},i(o){n||(v(e.$$.fragment,o),n=!0)},o(o){w(e.$$.fragment,o),n=!1},d(o){G(e,o),t=!1,s()}}}function Gt(r,e,n){let t,s=9999;function o(){n(0,s=window.innerWidth)}return r.$$.update=()=>{r.$$.dirty&1&&n(1,t=s<500)},[s,t,o]}class jt extends U{constructor(e){super(),F(this,e,Gt,zt,P,{})}}export{jt as default};
